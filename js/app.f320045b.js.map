{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/components/CodemirrorEditor/resetDialog.vue?94ef","webpack:///./src/components/Loading.vue?0913","webpack:///./src/components/Loading.vue?2551","webpack:///./src/pages/index/index.vue?ee46","webpack:///./src/App.vue?cd38","webpack:///./src/App.vue?3746","webpack:///./src/assets/scripts/config.js","webpack:///./src/assets/scripts/renderers/wx-renderer.js","webpack:///./src/assets/example/markdown.md","webpack:///./src/assets/example/theme-css.txt","webpack:///./src/assets/scripts/themes/default-theme.js","webpack:///./src/assets/scripts/util.js","webpack:///./src/store/index.js","webpack:///./src/plugins/element/index.js","webpack:///./src/pages/index/index.vue?e33b","webpack:///./src/pages/index/view/CodemirrorEditor.vue?18ef","webpack:///./src/components/CodemirrorEditor/header.vue?525a","webpack:///./src/assets/scripts/converter.js","webpack:///./src/components/CodemirrorEditor/resetDialog.vue?63b5","webpack:///src/components/CodemirrorEditor/resetDialog.vue","webpack:///./src/components/CodemirrorEditor/resetDialog.vue?0219","webpack:///./src/components/CodemirrorEditor/resetDialog.vue?6e21","webpack:///src/components/CodemirrorEditor/header.vue","webpack:///./src/components/CodemirrorEditor/header.vue?83e2","webpack:///./src/components/CodemirrorEditor/header.vue?6ddc","webpack:///./src/components/CodemirrorEditor/aboutDialog.vue?beb6","webpack:///src/components/CodemirrorEditor/aboutDialog.vue","webpack:///./src/components/CodemirrorEditor/aboutDialog.vue?7264","webpack:///./src/components/CodemirrorEditor/aboutDialog.vue?7dab","webpack:///./src/components/CodemirrorEditor/insertForm.vue?7708","webpack:///src/components/CodemirrorEditor/insertForm.vue","webpack:///./src/components/CodemirrorEditor/insertForm.vue?e68a","webpack:///./src/components/CodemirrorEditor/insertForm.vue?c5f2","webpack:///./src/components/CodemirrorEditor/rightClickMenu.vue?dae7","webpack:///src/components/CodemirrorEditor/rightClickMenu.vue","webpack:///./src/components/CodemirrorEditor/rightClickMenu.vue?2c4f","webpack:///./src/components/CodemirrorEditor/rightClickMenu.vue?5080","webpack:///./src/components/CodemirrorEditor/uploadImgDialog.vue?a873","webpack:///src/components/CodemirrorEditor/uploadImgDialog.vue","webpack:///./src/components/CodemirrorEditor/uploadImgDialog.vue?4a87","webpack:///./src/components/CodemirrorEditor/uploadImgDialog.vue?aaa9","webpack:///./src/api/fetch.js","webpack:///./src/api/config.js","webpack:///./src/assets/scripts/tokenTools.js","webpack:///./src/api/file.js","webpack:///src/pages/index/view/CodemirrorEditor.vue","webpack:///./src/pages/index/view/CodemirrorEditor.vue?c7ca","webpack:///./src/pages/index/view/CodemirrorEditor.vue?2e04","webpack:///src/pages/index/index.vue","webpack:///./src/pages/index/index.vue?58f0","webpack:///./src/pages/index/index.vue","webpack:///./src/router/index.js","webpack:///./src/main.js","webpack:///./src/components/CodemirrorEditor/insertForm.vue?cc49","webpack:///./src/pages/index/view/CodemirrorEditor.vue?0d1b","webpack:///./src/App.vue?3c62","webpack:///./src/components/CodemirrorEditor/rightClickMenu.vue?ed2a","webpack:///./src/pages/index/view/CodemirrorEditor.vue?aa9a","webpack:///./src/App.vue?c018","webpack:///./src/pages/index/view/CodemirrorEditor.vue?3975","webpack:///./src/components/Loading.vue?66e9","webpack:///./src/components/CodemirrorEditor/header.vue?f3ef","webpack:///./src/components/CodemirrorEditor/aboutDialog.vue?6534","webpack:///./src/components/Loading.vue?969b","webpack:///./src/components/CodemirrorEditor/uploadImgDialog.vue?9aa4"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","component","render","_vm","this","_h","$createElement","_c","_self","attrs","staticRenderFns","script","builtinFonts","label","sizeOption","desc","colorOption","codeThemeOption","form","rows","cols","WxRenderer","opts","ENV_STRETCH_IMAGE","footnotes","footnoteIndex","styleMapping","CODE_FONT_FAMILY","merge","base","extend","assign","buildTheme","themeTpl","mapping","BASE","fonts","size","ele","inline","style","base_block","block","getStyles","tokenName","addition","arr","dict","join","addFootnote","title","link","buildFootnotes","footnoteArray","map","x","buildAddition","setOptions","newOpts","hasFootnotes","getRenderer","status","theme","renderer","marked","Renderer","heading","text","level","paragraph","indexOf","replace","blockquote","code","lang","codeLines","split","line","codeTheme","codespan","listitem","list","ordered","start","segments","image","href","subText","figureStyles","imgStyles","startsWith","ref","strong","em","table","header","body","tablecell","flags","hr","color","BASE_BLOCK","margin","h1","display","padding","h2","background","h3","h4","blockquote_p","overflow","border","width","image_org","ol","ul","figure","wx_link","thead","td","footnote","figcaption","setColorWithTemplate","template","custom_theme","JSON","parse","stringify","setColorWithCustomTemplate","setFontSizeWithTemplate","fontSize","setColor","default_theme","setFontSize","customCssWithTemplate","jsonString","li","css2json","css","open","close","substring","json","lbracket","rbracket","toObject","array","ret","forEach","e","index","trim","declarations","filter","selectors","selector","keys","saveEditorContent","editor","content","getValue","localStorage","setItem","removeItem","formatDoc","doc","prettier","format","parser","plugins","prettierMarkdown","formatCss","prettierCss","fixCodeWhiteSpace","preDomList","document","getElementsByClassName","pre","whiteSpace","downloadMD","downLink","createElement","download","blob","Blob","URL","createObjectURL","appendChild","click","removeChild","exportHTML","element","querySelector","setStyles","htmlStr","innerHTML","isSection","isPre","isCode","isSpan","setAttribute","getElementStyles","tagName","Array","from","classList","includes","parentElement","children","child","createTable","currRow","rowIdx","toBase64","file","Promise","resolve","reject","reader","FileReader","readAsDataURL","onload","pop","onerror","error","checkImage","isValidSuffix","test","ok","msg","maxSize","isLt5M","excludes","styles","getComputedStyle","entries","getPropertyValue","Vue","use","Vuex","state","wxRenderer","output","html","cssEditor","currentFont","currentSize","currentColor","citeStatus","nightMode","rightClickMenuVisible","mutations","setEditorValue","setValue","setCssEditorValue","setWxRendererOptions","setCiteStatus","setCurrentFont","setCurrentSize","setCurrentColor","setCurrentCodeTheme","setRightClickMenuVisible","themeChanged","initEditorState","getItem","config","initEditorEntity","editorDom","getElementById","DEFAULT_CONTENT","CodeMirror","fromTextArea","lineNumbers","lineWrapping","styleActiveLine","autoCloseBrackets","extraKeys","initCssEditorEntity","cssEditorDom","DEFAULT_CSS_CONTENT","matchBrackets","autofocus","editorRefresh","clearEditorToDefault","Store","actions","Message","$loading","Loading","service","$message","staticClass","class","container_night","on","onEditorRefresh","cssChanged","downloadEditorContent","exportEditorContent","$event","showCssEditor","aboutDialogVisible","dialogFormVisible","dialogUploadImgVisible","isCoping","backLight","endCopy","nativeOn","preventDefault","openMenu","directives","rawName","expression","domProps","target","composing","source","output_night","_s","_v","_e","beforeUpload","uploadImage","uploaded","model","callback","$$v","mouseLeft","mouseTop","onMenuEvent","closeRightClickMenu","effect","$emit","showResetConfirm","fontChanged","selectFont","_l","font","fontFamily","sizeChanged","selectSize","colorChanged","selectColor","statusChanged","btnType","customStyle","copy","btnContent","confirmReset","cancelReset","solveWeChatImage","clipboardDiv","images","getElementsByTagName","getAttribute","height","removeAttribute","solveHtml","res","juice","inlineContent","inlinePseudoElements","preserveImportant","slot","props","type","Boolean","default","computed","selectCodeTheme","components","resetDialog","methods","codeThemeChanged","val","setTimeout","focus","getSelection","removeAllRanges","range","setStartBefore","firstChild","setEndAfter","lastChild","addRange","execCommand","showClose","message","offset","duration","clear","mounted","staticStyle","onRedirect","url","rowNum","colNum","row","col","tableData","$set","insertTable","replaceSelection","left","top","menuItem","item","onMouseDown","Number","menu","closeCB","changeImgHost","imgHost","beforeImageUpload","formGitee","saveGiteeConfiguration","formGitHub","saveGitHubConfiguration","formAliOSS","saveAliOSSConfiguration","formTxCOS","saveTxCOSConfiguration","formQiniu","saveQiniuConfiguration","repo","branch","accessToken","accessKeyId","accessKeySecret","bucket","region","path","cdnHost","secretId","secretKey","accessKey","domain","options","created","success","checkResult","isValidHost","params","axios","baseURL","timeout","interceptors","request","method","upload","headers","response","githubConfig","username","repoList","accessTokenList","giteeConfig","utf16to8","str","out","len","charCodeAt","charAt","String","fromCharCode","base64EncodeChars","base64encode","c1","c2","c3","safe64","base64","getConfig","useDefault","platform","tokenIndex","Math","floor","random","repoIndex","customConfig","repoUrl","getDir","date","Date","year","getFullYear","month","getMonth","toString","padStart","day","getDate","getDateFilename","filename","currentTimestamp","getTime","fileSuffix","uuidv4","ghFileUpload","dir","dateFilename","fetch","Authorization","location","githubResourceUrl","cdnResourceUrl","download_url","giteeUpload","access_token","encodeURI","getQiniuToken","putPolicy","policy","encoded","hash","CryptoJS","HmacSHA1","encodedSigned","enc","Base64","qiniuUpload","token","scope","deadline","trunc","observable","qiniu","subscribe","next","console","log","err","complete","aliOSSFileUpload","buffer","Buffer","client","OSS","put","txCOSFileUpload","cos","COS","SecretId","SecretKey","putObject","Bucket","Region","Key","Body","Location","fileUpload","isImgLoading","changeTimer","editorHeader","aboutDialog","insertFormDialog","rightClickMenu","uploadImgDialog","$nextTick","initEditor","clipboardData","items","kind","isValid","initCssEditor","cm","showHint","leftAndRightScroll","clearTimeout","removeEventListener","previewScrollCB","addEventListener","scrollTo","scrollCB","$refs","preview","$el","editorScrollCB","importMarkdownContent","input","accept","onchange","files","readAsText","txt","formatContent","min","maxLeft","clientY","$store","commit","PR","prettyPrint","CodemirrorEditor","loading","VueRouter","routes","router","process","ElementUI","productionTip","App","mpType","app","store","$mount","_m"],"mappings":"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Cse,GAAOI,OAAOC,aAAa,IAAS3e,GAAK,EAAK,IAC9Cse,GAAOI,OAAOC,aAAa,IAAS3e,GAAK,EAAK,MAE9Cse,GAAOI,OAAOC,aAAa,IAAS3e,GAAK,EAAK,IAC9Cse,GAAOI,OAAOC,aAAa,IAAS3e,GAAK,EAAK,KAGlD,OAAOse,EA0CT,IAAMM,GACJ,mEACwB,IAAItQ,OAC3B,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,EACD,IACC,GACA,GACA,EACD,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,IACC,GACA,GACA,GACA,GACA,GACA,GACA,EACD,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,IACC,GACA,GACA,GACA,GACA,GACA,EACD,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,IACC,GACA,GACA,GACA,GACA,GAEI,SAASuQ,GAAaR,GAC3B,IAAIC,EAAKlgB,EAAGmgB,EACRO,EAAIC,EAAIC,EACZT,EAAMF,EAAI/f,OACVF,EAAI,EACJkgB,EAAM,GACN,MAAOlgB,EAAImgB,EAAK,CAEd,GADAO,EAA2B,IAAtBT,EAAIG,WAAWpgB,KAChBA,GAAKmgB,EAAK,CACZD,GAAOM,GAAkBH,OAAOK,GAAM,GACtCR,GAAOM,GAAkBH,QAAa,EAALK,IAAa,GAC9CR,GAAO,KACP,MAGF,GADAS,EAAKV,EAAIG,WAAWpgB,KAChBA,GAAKmgB,EAAK,CACZD,GAAOM,GAAkBH,OAAOK,G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","file":"js/app.f320045b.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/md/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./resetDialog.vue?vue&type=style&index=0&id=68392714&lang=less&scoped=true&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Loading.vue?vue&type=style&index=0&id=a205efe8&lang=less&scoped=true&\"","import { render, staticRenderFns } from \"./Loading.vue?vue&type=template&id=a205efe8&scoped=true&\"\nimport script from \"./Loading.vue?vue&type=script&lang=js&\"\nexport * from \"./Loading.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Loading.vue?vue&type=style&index=0&id=a205efe8&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"a205efe8\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=8e90ad4c&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('router-view')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=41a4af61&\"\nvar script = {}\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=less&\"\nimport style1 from \"./App.vue?vue&type=style&index=1&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export default {\n  builtinFonts: [\n    {\n      label: \"无衬线\",\n      value:\n        \"-apple-system-font,BlinkMacSystemFont, Helvetica Neue, PingFang SC, Hiragino Sans GB , Microsoft YaHei UI , Microsoft YaHei ,Arial,sans-serif\",\n    },\n    {\n      label: \"衬线\",\n      value:\n        \"Optima-Regular, Optima, PingFangSC-light, PingFangTC-light, 'PingFang SC', Cambria, Cochin, Georgia, Times, 'Times New Roman', serif\",\n    },\n  ],\n  sizeOption: [\n    {\n      label: \"12px\",\n      value: \"12px\",\n      desc: \"更小\",\n    },\n    {\n      label: \"13px\",\n      value: \"13px\",\n      desc: \"稍小\",\n    },\n    {\n      label: \"14px\",\n      value: \"14px\",\n      desc: \"推荐\",\n    },\n    {\n      label: \"15px\",\n      value: \"15px\",\n      desc: \"稍大\",\n    },\n    {\n      label: \"16px\",\n      value: \"16px\",\n      desc: \"更大\",\n    },\n  ],\n  colorOption: [\n    {\n      label: \"经典蓝\",\n      value: \"rgba(15, 76, 129, 1)\",\n      desc: \"最新流行\",\n    },\n    {\n      label: \"翡翠绿\",\n      value: \"rgba(0, 152, 116, 1)\",\n      desc: \"优雅清新\",\n    },\n    {\n      label: \"活力橘\",\n      value: \"rgba(250, 81, 81, 1)\",\n      desc: \"热情活泼\",\n    },\n  ],\n  codeThemeOption: [\n    {\n      label: \"微信\",\n      value: \"wechat\",\n      desc: \"默认样式\",\n    },\n    {\n      label: \"GitHub\",\n      value: \"github\",\n      desc: \"精简风格\",\n    },\n  ],\n  form: {\n    rows: 1,\n    cols: 1,\n  },\n};\n","import marked from \"marked\";\nclass WxRenderer {\n  constructor(opts) {\n    this.opts = opts;\n    let ENV_STRETCH_IMAGE = true;\n\n    let footnotes = [];\n    let footnoteIndex = 0;\n    let styleMapping = null;\n\n    const CODE_FONT_FAMILY =\n      \"Menlo, Operator Mono, Consolas, Monaco, monospace\";\n\n    let merge = (base, extend) => Object.assign({}, base, extend);\n\n    this.buildTheme = (themeTpl) => {\n      let mapping = {};\n      let base = merge(themeTpl.BASE, {\n        \"font-family\": this.opts.fonts,\n        \"font-size\": this.opts.size,\n      });\n      for (let ele in themeTpl.inline) {\n        if (themeTpl.inline.hasOwnProperty(ele)) {\n          let style = themeTpl.inline[ele];\n          mapping[ele] = merge(themeTpl.BASE, style);\n        }\n      }\n\n      let base_block = merge(base, {});\n      for (let ele in themeTpl.block) {\n        if (themeTpl.block.hasOwnProperty(ele)) {\n          let style = themeTpl.block[ele];\n          if (ele === \"code\") {\n            style[\"font-family\"] = CODE_FONT_FAMILY;\n          }\n          mapping[ele] = merge(base_block, style);\n        }\n      }\n      return mapping;\n    };\n\n    let getStyles = (tokenName, addition) => {\n      let arr = [];\n      let dict = styleMapping[tokenName];\n      if (!dict) return \"\";\n      for (const key in dict) {\n        arr.push(key + \":\" + dict[key]);\n      }\n      return `style=\"${arr.join(\";\") + (addition || \"\")}\"`;\n    };\n\n    let addFootnote = (title, link) => {\n      footnotes.push([++footnoteIndex, title, link]);\n      return footnoteIndex;\n    };\n\n    this.buildFootnotes = () => {\n      let footnoteArray = footnotes.map((x) => {\n        if (x[1] === x[2]) {\n          return `<code style=\"font-size: 90%; opacity: 0.6;\">[${x[0]}]</code>: <i>${x[1]}</i><br/>`;\n        }\n        return `<code style=\"font-size: 90%; opacity: 0.6;\">[${x[0]}]</code> ${x[1]}: <i>${x[2]}</i><br/>`;\n      });\n      return `<h4 ${getStyles(\"h4\")}>引用链接</h4><p ${getStyles(\n        \"footnotes\"\n      )}>${footnoteArray.join(\"\\n\")}</p>`;\n    };\n\n    this.buildAddition = () => {\n      return `\n            <style>\n            .preview-wrapper pre::before {\n                position: absolute;\n                top: 0;\n                right: 0;\n                color: #ccc;\n                text-align: center;\n                font-size: 0.8em;\n                padding: 5px 10px 0;\n                line-height: 15px;\n                height: 15px;\n                font-weight: 600;\n            }\n            </style>\n        `;\n    };\n\n    this.setOptions = (newOpts) => {\n      this.opts = merge(this.opts, newOpts);\n    };\n\n    this.hasFootnotes = () => footnotes.length !== 0;\n\n    this.getRenderer = (status) => {\n      footnotes = [];\n      footnoteIndex = 0;\n\n      styleMapping = this.buildTheme(this.opts.theme);\n      let renderer = new marked.Renderer();\n\n      renderer.heading = (text, level) => {\n        switch (level) {\n          case 1:\n            return `<h1 ${getStyles(\"h1\")}>${text}</h1>`;\n          case 2:\n            return `<h2 ${getStyles(\"h2\")}>${text}</h2>`;\n          case 3:\n            return `<h3 ${getStyles(\"h3\")}>${text}</h3>`;\n          default:\n            return `<h4 ${getStyles(\"h4\")}>${text}</h4>`;\n        }\n      };\n      renderer.paragraph = (text) => {\n        if (text.indexOf(\"<figure\") != -1 && text.indexOf(\"<img\") != -1) {\n          return text;\n        }\n        return text.replace(/ /g, \"\") === \"\"\n          ? \"\"\n          : `<p ${getStyles(\"p\")}>${text}</p>`;\n      };\n\n      renderer.blockquote = (text) => {\n        text = text.replace(/<p.*?>/g, `<p ${getStyles(\"blockquote_p\")}>`);\n        return `<blockquote ${getStyles(\"blockquote\")}>${text}</blockquote>`;\n      };\n      renderer.code = (text, lang) => {\n        text = text.replace(/</g, \"&lt;\").replace(/>/g, \"&gt;\");\n        const codeLines = text\n          .split(\"\\n\")\n          .map(\n            (line) =>\n              `<code class=\"prettyprint\"><span class=\"code-snippet_outer\">${\n                line || \" \"\n              }</span></code>`\n          );\n        const codeTheme = \"github\";\n        return `\n                <section class=\"code-snippet__${codeTheme}\">\n                    <pre class=\"code__pre\" data-lang=\"${lang}\">\n                        ${codeLines.join(\"\")}\n                    </pre>\n                </section>\n            `;\n      };\n      renderer.codespan = (text, lang) =>\n        `<code ${getStyles(\"codespan\")}>${text}</code>`;\n      renderer.listitem = (text) =>\n        `<span ${getStyles(\n          \"listitem\"\n        )}><span style=\"margin-right: 10px;\"><%s/></span>${text}</span>`;\n\n      renderer.list = (text, ordered, start) => {\n        text = text.replace(/<\\/*p.*?>/g, \"\");\n        let segments = text.split(`<%s/>`);\n        if (!ordered) {\n          text = segments.join(\"•\");\n          return `<p ${getStyles(\"ul\")}>${text}</p>`;\n        }\n        text = segments[0];\n        for (let i = 1; i < segments.length; i++) {\n          text = text + i + \".\" + segments[i];\n        }\n        return `<p ${getStyles(\"ol\")}>${text}</p>`;\n      };\n      renderer.image = (href, title, text) => {\n        let subText = \"\";\n        if (text) {\n          subText = `<figcaption ${getStyles(\n            \"figcaption\"\n          )}>${text}</figcaption>`;\n        }\n        let figureStyles = getStyles(\"figure\");\n        let imgStyles = getStyles(ENV_STRETCH_IMAGE ? \"image\" : \"image_org\");\n        return `<figure ${figureStyles}><img ${imgStyles} src=\"${href}\" title=\"${title}\" alt=\"${text}\"/>${subText}</figure>`;\n      };\n      renderer.link = (href, title, text) => {\n        if (href.startsWith(\"https://mp.weixin.qq.com\")) {\n          return `<a href=\"${href}\" title=\"${title || text}\" ${getStyles(\n            \"wx_link\"\n          )}>${text}</a>`;\n        }\n        if (href === text) {\n          return text;\n        }\n        if (status) {\n          let ref = addFootnote(title || text, href);\n          return `<span ${getStyles(\"link\")}>${text}<sup>[${ref}]</sup></span>`;\n        }\n        return `<span ${getStyles(\"link\")}>${text}</span>`;\n      };\n      renderer.strong = (text) =>\n        `<strong ${getStyles(\"strong\")}>${text}</strong>`;\n      renderer.em = (text) =>\n        `<span style=\"font-style: italic;\">${text}</span>`;\n      renderer.table = (header, body) =>\n        `<section style=\"padding:0 8px;\"><table class=\"preview-table\"><thead ${getStyles(\n          \"thead\"\n        )}>${header}</thead><tbody>${body}</tbody></table></section>`;\n      renderer.tablecell = (text, flags) =>\n        `<td ${getStyles(\"td\")}>${text}</td>`;\n      renderer.hr = () =>\n        `<hr style=\"border-style: solid;border-width: 1px 0 0;border-color: rgba(0,0,0,0.1);-webkit-transform-origin: 0 0;-webkit-transform: scale(1, 0.5);transform-origin: 0 0;transform: scale(1, 0.5);\">`;\n      return renderer;\n    };\n  }\n}\nexport default WxRenderer;\n","export default \"# 示例文章：Google 搜索的即时自动补全功能究竟是如何“工作”的？\\r\\n\\r\\n> Google 搜索**自动补全功能**的强大，相信不少朋友都能感受到，它帮助我们更快地“补全”我们所要输入的搜索关键字。那么，它怎么知道我们要输入什么内容？它又是如何工作的？在这篇文章里，我们一起来看看。\\r\\n\\r\\n## 使用自动补全\\r\\n\\r\\nGoogle 搜索的自动补全功能可以在 Google 搜索应用的大多数位置使用，包括 [Google](https://www.google.com/) 主页、适用于 IOS 和 Android 的 Google 应用，我们只需要在 Google 搜索框上开始键入关键字，就可以看到联想词了。\\r\\n\\r\\n![](https://gitee.com/yanglbme/resource/raw/master/doocs-md/juejin.gif)\\r\\n\\r\\n在上图示例中，我们可以看到，输入关键字 `juej`，Google 搜索会联想到“掘金”、“掘金小册”、“绝句”等等，好处就是，我们无须输入完整的关键字即可轻松完成针对这些 topics 的搜索。\\r\\n\\r\\n谷歌搜索的自动补全功能对于使用移动设备的用户来说特别有用，用户可以轻松在难以键入的小屏幕上完成搜索。当然，对于移动设备用户和台式机用户而言，这都节省了大量的时间。根据 Google 官方报告，自动补全功能可以减少大约 25% 的打字，累积起来，预计每天可以节省 200 多年的打字时间。是的，每天！\\r\\n\\r\\n> 注意，本文所提到的“**联想词**”与“**预测**”，是同一个意思。\\r\\n\\r\\n## 基于“预测”而非“建议”\\r\\n\\r\\nGoogle 官方将自动补全功能称之为“预测”，而不是“建议”，为什么呢？其实是有充分理由的。自动补全功能是为了**帮助用户完成他们打算进行的搜索**，而不是建议用户要执行什么搜索。\\r\\n\\r\\n那么，Google 是如何确定这些“预测”的？其实，Google 会根据趋势搜索 [trends](https://trends.google.com/trends/?geo=US) 给到我们这些“预测”。简单来说，哪个热门、哪个搜索频率高，就更可能推给我们。当然，这也与我们当前所处的位置以及我们的搜索历史相关。\\r\\n\\r\\n另外，这些“预测”也会随着我们键入的关键字的变更而更改。例如，当我们把键入的关键字从 `juej` 更改为 `juex` 时，与“掘金”相关的预测会“消失”，同时，与“觉醒”、“决心”相关联的词会出现。\\r\\n\\r\\n![](https://gitee.com/yanglbme/resource/raw/master/doocs-md/juex.gif)\\r\\n\\r\\n## 为什么看不到某些联想词？\\r\\n\\r\\n如果我们在输入某个关键字时看不到联想词，那么表明 Google 的算法可能检测到：\\r\\n\\r\\n- 这个关键字不是热门字词；\\r\\n- 搜索的字词太新了，我们可能需要等待几天或几周才能看到联想词；\\r\\n- 这是一个侮辱性或敏感字词，这个搜索字词违反了 Google 的相关政策。更加详细的情况，可以了解 [Google 搜索自动补全政策](https://support.google.com/websearch/answer/7368877)。\\r\\n\\r\\n## 为什么会看到某些不当的联想词？\\r\\n\\r\\nGoogle 拥有专门设计的系统，可以自动捕获不适当的预测结果而不显示出来。然而，Google 每天需要处理数十亿次搜索，这意味着 Google 每天会显示数十亿甚至上百亿条预测。再好的系统，也可能存在缺陷，不正确的预测也可能随时会出现。\\r\\n\\r\\n我们作为 Google 搜索的用户，如果认定某条预测违反了相关的搜索自动补全政策，可以进行举报反馈，点击右下角“**举报不当的联想查询**”并勾选相关选项即可。\\r\\n\\r\\n![](https://gitee.com/yanglbme/resource/raw/master/doocs-md/report.gif)\\r\\n\\r\\n## 如何实现自动补全算法？\\r\\n\\r\\n目前，Google 官方似乎并没有公开搜索自动补全的算法实现，但是业界在这方面已经有了不少研究。\\r\\n\\r\\n一个好的自动补全器必须是快速的，并且在用户键入下一个字符后立即更新联想词列表。**自动补全器的核心是一个函数，它接受输入的前缀，并搜索以给定前缀开头的词汇或语句列表**。通常来说，只需要返回少量的数目即可。\\r\\n\\r\\n接下来，我们先从一个简单且低效的实现开始，并在此基础上逐步构建更高效的方法。\\r\\n\\r\\n### 词汇表实现\\r\\n\\r\\n一个**简单粗暴的实现方式**是：顺序查找词汇表，依次检查每个词汇，看它是否以给定的前缀开头。\\r\\n\\r\\n但是，此方法需要将前缀与每个词汇进行匹配检查，若词汇量较少，这种方式可能勉强行得通。但是，如果词汇量规模较大，效率就太低了。\\r\\n\\r\\n一个**更好的实现方式是**：让词汇按字典顺序排序。借助二分搜索算法，可以快速搜索有序词汇表中的前缀。由于二分搜索的每一步都会将搜索的范围减半，因此，总的搜索时间与词汇表中单词数量的对数成正比，即时间复杂度是 `O(log N)`。二分搜索的性能很好，但有没有更好的实现呢？当然有，往下看。\\r\\n\\r\\n### 前缀树实现\\r\\n\\r\\n通常来说，许多词汇都以相同的前缀开头，比如 `need`、`nested` 都以 `ne` 开头，`seed`、`speed` 都以 `s` 开头。要是为每个单词分别存储公共前缀似乎很浪费。\\r\\n\\r\\n![](https://gitee.com/yanglbme/resource/raw/master/doocs-md/pretree.png)\\r\\n\\r\\n前缀树是一种利用公共前缀来加速补全速度的数据结构。前缀树在节点树中排列一组单词，单词沿着从根节点到叶子节点的路径存储，树的层次对应于前缀的字母位置。\\r\\n\\r\\n前缀的补全是顺着前缀定义的路径来查找的。例如，在上图的前缀树中，前缀 `ne` 对应于从子节点取左边缘 `N` 和唯一边缘 `E` 的路径。然后可以通过继续遍历从 `E` 节点可以达到的所有叶节点来生成补全列表。在图中，`ne` 的补全可以是两个分支：`-ed` 和 `-sted`。如果在数中找不到由前缀定义的路径，则说明词汇表中不包含以该前缀开头的单词。\\r\\n\\r\\n### 有限状态自动机(DFA)实现\\r\\n\\r\\n前缀树可以有效处理公共前缀，但是，对于其他共享词部分，仍会分别存储在每个分支中。比如，后缀 `ed`、`ing`、`tion` 在英文单词中特别常见。在上一个例子中，`e`、`d` 分别存放在了每一个分支上。\\r\\n\\r\\n有没有一种方法可以更加节省存储空间呢？有的，那就是 DFA。\\r\\n\\r\\n<center>\\r\\n<img src=\\\"https://gitee.com/yanglbme/resource/raw/master/doocs-md/dfa.gif\\\" style=\\\"width: 50%;\\\"></center>\\r\\n\\r\\n在上面的例子中，单词 `need`、`nested`、`seed` 和 `speed` 仅由 9 个节点组成，而上一张图中的前缀树包含了 17 个节点。\\r\\n\\r\\n可以看出，最小化前缀树 DFA 可以在很大程度上减少数据结构的大小。即使词汇量很大，最小化 DFA 通常也适合在内存中存储，避免昂贵的磁盘访问是实现快速自动补全的关键。\\r\\n\\r\\n### 一些扩展\\r\\n\\r\\n上面介绍了如何利用合理的数据结构实现基本的自动补全功能。这些数据结构可以通过多种方式进行扩展，从而改善用户体验。\\r\\n\\r\\n通常，满足特定前缀的词汇可能很多，而用户界面上能够显示的却不多，我们更希望能显示最常搜索或者最有价值的词汇。这通常可以通过为词汇表中的每个单词增加一个代表单词值的**权重** `weight`，并且按照权重高低来排序自动补全列表。\\r\\n\\r\\n- 对于排序后的词汇表来说，在词汇表每个元素上增加 `weight` 属性并不难；\\r\\n- 对于前缀树来说，将 `weight` 存储在叶子节点中，也是很简单的一个实现；\\r\\n- 对于 `DFA` 来说，则较为复杂。因为一个叶子节点可以通过多条路径到达。一种解决方案是将权重关联到路径而不是叶子节点。\\r\\n\\r\\n目前有不少开源库都提供了这个功能，比如主流的搜索引擎框架 [Elasticsearch](https://www.elastic.co/products/elasticsearch)、[Solr](https://lucene.apache.org/solr/) 等，基于此，我们可以实现高效而强大的自动补全功能。\\r\\n\\r\\n#### 推荐阅读\\r\\n\\r\\n- [阿里又一个 20k+ stars 开源项目诞生，恭喜 fastjson！](https://mp.weixin.qq.com/s/RNKDCK2KoyeuMeEs6GUrow)\\r\\n- [刷掉 90% 候选人的互联网大厂海量数据面试题（附题解 + 方法总结）](https://mp.weixin.qq.com/s/rjGqxUvrEqJNlo09GrT1Dw)\\r\\n- [好用！期待已久的文本块功能究竟如何在 Java 13 中发挥作用？](https://mp.weixin.qq.com/s/kalGv5T8AZGxTnLHr2wDsA)\\r\\n- [2019 GitHub 开源贡献排行榜新鲜出炉！微软谷歌领头，阿里跻身前 12！](https://mp.weixin.qq.com/s/_q812aGD1b9QvZ2WFI0Qgw)\\r\\n\\r\\n---\\r\\n\\r\\n欢迎关注我的公众号“**Doocs 开源社区**”，原创技术文章第一时间推送。\\r\\n\\r\\n<center>\\r\\n    <img src=\\\"https://gitee.com/yanglbme/resource/raw/master/doocs-md/qrcode.png\\\" style=\\\"width: 100px;\\\">\\r\\n</center>\\r\\n\";","export default \"/*\\r\\n  按Ctrl+F可格式化\\r\\n*/\\r\\n/* 一级标题样式 */\\r\\nh1 {\\r\\n}\\r\\n/* 二级标题样式 */\\r\\nh2 {\\r\\n}\\r\\n/* 三级标题样式 */\\r\\nh3 {\\r\\n}\\r\\n/* 四级标题样式 */\\r\\nh4 {\\r\\n}\\r\\n/* 图片样式 */\\r\\nimage {\\r\\n}\\r\\n/* 引用样式 */\\r\\nblockquote {\\r\\n}\\r\\n/* 引用段落样式 */\\r\\nblockquote_p {\\r\\n}\\r\\n/* 段落样式 */\\r\\np {\\r\\n}\\r\\n/* 行内代码样式 */\\r\\ncodespan {\\r\\n}\\r\\n/* 粗体样式 */\\r\\nstrong {\\r\\n}\\r\\n/* 链接样式 */\\r\\nlink {\\r\\n}\\r\\n/* 微信链接样式 */\\r\\nwx_link {\\r\\n}\\r\\n/* 有序列表样式 */\\r\\nol {\\r\\n}\\r\\n/* 无序列表样式 */\\r\\nul {\\r\\n}\\r\\n/* 列表项样式 */\\r\\nli {\\r\\n}\";","export default {\n  BASE: {\n    \"text-align\": \"left\",\n    color: \"#3f3f3f\",\n    \"line-height\": \"1.75\",\n  },\n  BASE_BLOCK: {\n    margin: \"1em 8px\",\n  },\n  block: {\n    // 一级标题样式\n    h1: {\n      \"font-size\": \"1.2em\",\n      \"text-align\": \"center\",\n      \"font-weight\": \"bold\",\n      display: \"table\",\n      margin: \"2em auto 1em\",\n      padding: \"0 1em\",\n      \"border-bottom\": \"2px solid rgba(0, 152, 116, 0.9)\",\n    },\n\n    // 二级标题样式\n    h2: {\n      \"font-size\": \"1.2em\",\n      \"text-align\": \"center\",\n      \"font-weight\": \"bold\",\n      display: \"table\",\n      margin: \"4em auto 2em\",\n      padding: \"0 0.2em\",\n      background: \"rgba(0, 152, 116, 0.9)\",\n      color: \"#fff\",\n    },\n\n    // 三级标题样式\n    h3: {\n      \"font-weight\": \"bold\",\n      \"font-size\": \"1.1em\",\n      margin: \"2em 8px 0.75em 0\",\n      \"line-height\": \"1.2\",\n      \"padding-left\": \"8px\",\n      \"border-left\": \"3px solid rgba(0, 152, 116, 0.9)\",\n    },\n\n    // 四级标题样式\n    h4: {\n      \"font-weight\": \"bold\",\n      \"font-size\": \"1em\",\n      margin: \"2em 8px 0.5em\",\n      color: \"rgba(66, 185, 131, 0.9)\",\n    },\n\n    // 段落样式\n    p: {\n      margin: \"1.5em 8px\",\n      \"letter-spacing\": \"0.1em\",\n    },\n\n    // 引用样式\n    blockquote: {\n      \"font-style\": \"normal\",\n      \"border-left\": \"none\",\n      padding: \"1em\",\n      \"border-radius\": \"8px\",\n      color: \"rgba(0,0,0,0.5)\",\n      background: \"#f7f7f7\",\n      margin: \"2em 8px\",\n    },\n\n    blockquote_p: {\n      \"letter-spacing\": \"0.1em\",\n      color: \"rgb(80, 80, 80)\",\n      \"font-size\": \"1em\",\n      display: \"block\",\n    },\n\n    code: {\n      \"font-size\": \"80%\",\n      overflow: \"auto\",\n      color: \"#333\",\n      \"white-space\": \"pre\",\n      background: \"rgb(247, 247, 247)\",\n      \"border-radius\": \"8px\",\n      padding: \"10px\",\n      \"line-height\": \"1.5\",\n      border: \"1px solid rgb(236,236,236)\",\n      margin: \"20px 0\",\n    },\n\n    image: {\n      \"border-radius\": \"4px\",\n      display: \"block\",\n      margin: \"0.1em auto 0.5em\",\n      width: \"100% !important\",\n    },\n\n    image_org: {\n      \"border-radius\": \"4px\",\n      display: \"block\",\n    },\n\n    ol: {\n      \"margin-left\": \"0\",\n      \"padding-left\": \"1em\",\n    },\n\n    ul: {\n      \"margin-left\": \"0\",\n      \"padding-left\": \"1em\",\n      \"list-style\": \"circle\",\n    },\n\n    footnotes: {\n      margin: \"0.5em 8px\",\n      \"font-size\": \"80%\",\n    },\n\n    figure: {\n      margin: \"1.5em 8px\",\n    },\n  },\n  inline: {\n    listitem: {\n      \"text-indent\": \"-1em\",\n      display: \"block\",\n      margin: \"0.2em 8px\",\n    },\n\n    codespan: {\n      \"font-size\": \"90%\",\n      \"white-space\": \"pre\",\n      color: \"#d14\",\n      background: \"rgba(27,31,35,.05)\",\n      padding: \"3px 5px\",\n      \"border-radius\": \"4px\",\n    },\n\n    link: {\n      color: \"#576b95\",\n    },\n\n    wx_link: {\n      color: \"#576b95\",\n      \"text-decoration\": \"none\",\n    },\n\n    // 字体加粗样式\n    strong: {\n      color: \"rgba(15, 76, 129, 0.9)\",\n      \"font-weight\": \"bold\",\n    },\n\n    table: {\n      \"border-collapse\": \"collapse\",\n      \"text-align\": \"center\",\n      margin: \"1em 8px\",\n    },\n\n    thead: {\n      background: \"rgba(0, 0, 0, 0.05)\",\n      \"font-weight\": \"bold\",\n    },\n\n    td: {\n      border: \"1px solid #dfdfdf\",\n      padding: \"0.25em 0.5em\",\n    },\n\n    footnote: {\n      \"font-size\": \"12px\",\n    },\n\n    figcaption: {\n      \"text-align\": \"center\",\n      color: \"#888\",\n      \"font-size\": \"0.8em\",\n    },\n  },\n};\n","import default_theme from \"./themes/default-theme\";\nimport prettier from \"prettier/standalone\";\nimport prettierMarkdown from \"prettier/parser-markdown\";\nimport prettierCss from \"prettier/parser-postcss\";\n\n// 设置自定义颜色\nexport function setColorWithTemplate(template) {\n  return function (color) {\n    let custom_theme = JSON.parse(JSON.stringify(template));\n    custom_theme.block.h1[\"border-bottom\"] = `2px solid ${color}`;\n    custom_theme.block.h2[\"background\"] = color;\n    custom_theme.block.h3[\"border-left\"] = `3px solid ${color}`;\n    custom_theme.block.h4[\"color\"] = color;\n    custom_theme.inline.strong[\"color\"] = color;\n    return custom_theme;\n  };\n}\n\nexport const setColorWithCustomTemplate = function setColorWithCustomTemplate(\n  template,\n  color\n) {\n  let custom_theme = JSON.parse(JSON.stringify(template));\n  custom_theme.block.h1[\"border-bottom\"] = `2px solid ${color}`;\n  custom_theme.block.h2[\"background\"] = color;\n  custom_theme.block.h3[\"border-left\"] = `3px solid ${color}`;\n  custom_theme.block.h4[\"color\"] = color;\n  custom_theme.inline.strong[\"color\"] = color;\n  return custom_theme;\n};\n\n// 设置自定义字体大小\nexport function setFontSizeWithTemplate(template) {\n  return function (fontSize) {\n    let custom_theme = JSON.parse(JSON.stringify(template));\n    custom_theme.block.h1[\"font-size\"] = `${fontSize * 1.14}px`;\n    custom_theme.block.h2[\"font-size\"] = `${fontSize * 1.1}px`;\n    custom_theme.block.h3[\"font-size\"] = `${fontSize}px`;\n    custom_theme.block.h4[\"font-size\"] = `${fontSize}px`;\n    return custom_theme;\n  };\n}\n\nexport const setColor = setColorWithTemplate(default_theme);\nexport const setFontSize = setFontSizeWithTemplate(default_theme);\n\nexport function customCssWithTemplate(jsonString, color, theme) {\n  let custom_theme = JSON.parse(JSON.stringify(theme));\n  // block\n  custom_theme.block.h1[\"border-bottom\"] = `2px solid ${color}`;\n  custom_theme.block.h2[\"background\"] = color;\n  custom_theme.block.h3[\"border-left\"] = `3px solid ${color}`;\n  custom_theme.block.h4[\"color\"] = color;\n  custom_theme.inline.strong[\"color\"] = color;\n\n  custom_theme.block.h1 = Object.assign(custom_theme.block.h1, jsonString.h1);\n  custom_theme.block.h2 = Object.assign(custom_theme.block.h2, jsonString.h2);\n  custom_theme.block.h3 = Object.assign(custom_theme.block.h3, jsonString.h3);\n  custom_theme.block.h4 = Object.assign(custom_theme.block.h4, jsonString.h4);\n  custom_theme.block.p = Object.assign(custom_theme.block.p, jsonString.p);\n  custom_theme.block.blockquote = Object.assign(\n    custom_theme.block.blockquote,\n    jsonString.blockquote\n  );\n  custom_theme.block.blockquote_p = Object.assign(\n    custom_theme.block.blockquote_p,\n    jsonString.blockquote_p\n  );\n  custom_theme.block.image = Object.assign(\n    custom_theme.block.image,\n    jsonString.image\n  );\n\n  // inline\n  custom_theme.inline.strong = Object.assign(\n    custom_theme.inline.strong,\n    jsonString.strong\n  );\n  custom_theme.inline.codespan = Object.assign(\n    custom_theme.inline.codespan,\n    jsonString.codespan\n  );\n  custom_theme.inline.link = Object.assign(\n    custom_theme.inline.link,\n    jsonString.link\n  );\n  custom_theme.inline.wx_link = Object.assign(\n    custom_theme.inline.wx_link,\n    jsonString.wx_link\n  );\n  custom_theme.block.ul = Object.assign(custom_theme.block.ul, jsonString.ul);\n  custom_theme.block.ol = Object.assign(custom_theme.block.ol, jsonString.ol);\n  custom_theme.inline.listitem = Object.assign(\n    custom_theme.inline.listitem,\n    jsonString.li\n  );\n  return custom_theme;\n}\n\n/**\n * 将CSS形式的字符串转换为JSON\n *\n * @param {css字符串} css\n */\nexport function css2json(css) {\n  // 移除CSS所有注释\n  let open, close;\n  while (\n    (open = css.indexOf(\"/*\")) !== -1 &&\n    (close = css.indexOf(\"*/\")) !== -1\n  ) {\n    css = css.substring(0, open) + css.substring(close + 2);\n  }\n\n  // 初始化返回值\n  let json = {};\n\n  while (css.length > 0 && css.indexOf(\"{\") !== -1 && css.indexOf(\"}\") !== -1) {\n    // 存储第一个左/右花括号的下标\n    const lbracket = css.indexOf(\"{\");\n    const rbracket = css.indexOf(\"}\");\n\n    // 第一步：将声明转换为Object，如：\n    // `font: 'Times New Roman' 1em; color: #ff0000; margin-top: 1em;`\n    //  ==>\n    // `{\"font\": \"'Times New Roman' 1em\", \"color\": \"#ff0000\", \"margin-top\": \"1em\"}`\n\n    // 辅助方法：将array转为object\n    function toObject(array) {\n      let ret = {};\n      array.forEach((e) => {\n        const index = e.indexOf(\":\");\n        const property = e.substring(0, index).trim();\n        const value = e.substring(index + 1).trim();\n        ret[property] = value;\n      });\n      return ret;\n    }\n\n    // 切割声明块并移除空白符，然后放入数组中\n    let declarations = css\n      .substring(lbracket + 1, rbracket)\n      .split(\";\")\n      .map((e) => e.trim())\n      .filter((e) => e.length > 0); // 移除所有\"\"空值\n\n    // 转为Object对象\n    declarations = toObject(declarations);\n\n    // 第二步：选择器处理，每个选择器会与它对应的声明相关联，如：\n    // `h1, p#bar {color: red}`\n    // ==>\n    // {\"h1\": {color: red}, \"p#bar\": {color: red}}\n\n    let selectors = css\n      .substring(0, lbracket)\n      // 以,切割，并移除空格：`\"h1, p#bar, span.foo\"` => [\"h1\", \"p#bar\", \"span.foo\"]\n      .split(\",\")\n      .map((selector) => selector.trim());\n\n    // 迭代赋值\n    selectors.forEach((selector) => {\n      // 若不存在，则先初始化\n      if (!json[selector]) json[selector] = {};\n      // 赋值到JSON\n      Object.keys(declarations).forEach((key) => {\n        json[selector][key] = declarations[key];\n      });\n    });\n\n    // 继续下个声明块\n    css = css.slice(rbracket + 1).trim();\n  }\n\n  // 返回JSON形式的结果串\n  return json;\n}\n\n/**\n * 将编辑器内容保存到 LocalStorage\n * @param {*} editor\n * @param {*} name\n */\nexport function saveEditorContent(editor, name) {\n  const content = editor.getValue(0);\n  if (content) {\n    localStorage.setItem(name, content);\n  } else {\n    localStorage.removeItem(name);\n  }\n}\n\n/**\n * 格式化文档\n * @param {文档内容} content\n */\nexport function formatDoc(content) {\n  const doc = prettier.format(content, {\n    parser: \"markdown\",\n    plugins: [prettierMarkdown],\n  });\n  return doc;\n}\n\n/**\n * 格式化css\n * @param {css内容}} content\n */\nexport function formatCss(content) {\n  const doc = prettier.format(content, {\n    parser: \"css\",\n    plugins: [prettierCss],\n  });\n  return doc;\n}\n\nexport function fixCodeWhiteSpace(value = \"pre\") {\n  const preDomList = document.getElementsByClassName(\"code__pre\");\n  if (preDomList.length > 0) {\n    preDomList.forEach((pre) => {\n      pre.style.whiteSpace = value;\n    });\n  }\n}\n\n/**\n * 导出原始 Markdown 文档\n * @param {文档内容} doc\n */\nexport function downloadMD(doc) {\n  let downLink = document.createElement(\"a\");\n\n  downLink.download = \"content.md\";\n  downLink.style.display = \"none\";\n  let blob = new Blob([doc]);\n\n  downLink.href = URL.createObjectURL(blob);\n  document.body.appendChild(downLink);\n  downLink.click();\n  document.body.removeChild(downLink);\n}\n\n/**\n * 导出 HTML 生成内容\n */\nexport function exportHTML() {\n  const element = document.querySelector(\"#output\");\n  setStyles(element);\n  const htmlStr = element.innerHTML;\n\n  const downLink = document.createElement(\"a\");\n\n  downLink.download = \"content.html\";\n  downLink.style.display = \"none\";\n  let blob = new Blob([\n    `<html><head><meta charset=\"utf-8\" /></head><body><div style=\"width: 750px; margin: auto;\">${htmlStr}</div></body></html>`,\n  ]);\n\n  downLink.href = URL.createObjectURL(blob);\n  document.body.appendChild(downLink);\n  downLink.click();\n  document.body.removeChild(downLink);\n\n  function setStyles(element) {\n    switch (true) {\n      case isSection(element):\n      case isPre(element):\n      case isCode(element):\n      case isSpan(element):\n        element.setAttribute(\"style\", getElementStyles(element));\n      default:\n    }\n    if (element.children.length) {\n      Array.from(element.children).forEach((child) => setStyles(child));\n    }\n\n    // 判断是否是包裹代码块的 section 元素\n    function isSection(element) {\n      return (\n        element.tagName === \"SECTION\" &&\n        Array.from(element.classList).includes(\"code-snippet__github\")\n      );\n    }\n    // 判断是否是包裹代码块的 pre 元素\n    function isPre(element) {\n      return (\n        element.tagName === \"PRE\" &&\n        Array.from(element.classList).includes(\"code__pre\")\n      );\n    }\n    // 判断是否是包裹代码块的 code 元素\n    function isCode(element) {\n      return (\n        element.tagName === \"CODE\" &&\n        Array.from(element.classList).includes(\"prettyprint\")\n      );\n    }\n    // 判断是否是包裹代码字符的 span 元素\n    function isSpan(element) {\n      return (\n        element.tagName === \"SPAN\" &&\n        (isCode(element.parentElement) ||\n          isCode(element.parentElement.parentElement))\n      );\n    }\n  }\n}\n\n/**\n * 生成列表字符串\n * @param {*} data 对应内容集合\n * @param {*} rows 行\n * @param {*} cols 列\n */\nexport function createTable({ data, rows, cols }) {\n  let table = \"\";\n  let currRow = [];\n  for (let i = 0; i < rows + 2; ++i) {\n    table += \"|\\t\";\n    currRow = [];\n    for (let j = 0; j < cols; ++j) {\n      const rowIdx = i > 1 ? i - 1 : i;\n      i === 1\n        ? currRow.push(\"---\\t\")\n        : currRow.push(data[`k_${rowIdx}_${j}`] || \"\");\n    }\n    table += currRow.join(\"\\t|\\t\");\n    table += \"\\t|\\n\";\n  }\n\n  return table;\n}\n\nexport const toBase64 = (file) =>\n  new Promise((resolve, reject) => {\n    const reader = new FileReader();\n    reader.readAsDataURL(file);\n    reader.onload = () => resolve(reader.result.split(\",\").pop());\n    reader.onerror = (error) => reject(error);\n  });\n\nexport function checkImage(file) {\n  // check filename suffix\n  const isValidSuffix = /\\.(gif|jpg|jpeg|png|GIF|JPG|PNG)$/.test(file.name);\n  if (!isValidSuffix) {\n    return {\n      ok: false,\n      msg: \"请上传 JPG/PNG/GIF 格式的图片\",\n    };\n  }\n\n  // check file size\n  const maxSize = 5;\n  const isLt5M = file.size / 1024 / 1024 <= maxSize;\n  if (!isLt5M) {\n    return {\n      ok: false,\n      msg: `由于公众号限制，图片大小不能超过 ${maxSize}M`,\n    };\n  }\n  return { ok: true };\n}\n\n/**\n * 获取一个 DOM 元素的所有样式，\n * @param {DOM 元素} element DOM 元素\n * @param {排除的属性} excludes 如果某些属性对结果有不良影响，可以使用这个参数来排除\n * @returns 行内样式拼接结果\n */\nfunction getElementStyles(element, excludes = [\"width\", \"height\"]) {\n  const styles = getComputedStyle(element, null);\n  return Object.entries(styles)\n    .filter(([key]) => styles.getPropertyValue(key) && !excludes.includes(key))\n    .map(([key, value]) => `${key}:${value};`)\n    .join(\"\");\n}\n","import Vue from \"vue\";\nimport Vuex from \"vuex\";\nimport config from \"../assets/scripts/config\";\nimport WxRenderer from \"../assets/scripts/renderers/wx-renderer\";\nimport marked from \"marked\";\nimport CodeMirror from \"codemirror/lib/codemirror\";\nimport DEFAULT_CONTENT from \"@/assets/example/markdown.md\";\nimport DEFAULT_CSS_CONTENT from \"@/assets/example/theme-css.txt\";\nimport { setColor, formatDoc, formatCss } from \"../assets/scripts/util\";\n\nVue.use(Vuex);\n\nconst state = {\n  wxRenderer: null,\n  output: \"\",\n  html: \"\",\n  editor: null,\n  cssEditor: null,\n  currentFont: \"\",\n  currentSize: \"\",\n  currentColor: \"\",\n  citeStatus: 0,\n  nightMode: false,\n  codeTheme: \"github\",\n  rightClickMenuVisible: false,\n};\nconst mutations = {\n  setEditorValue(state, data) {\n    state.editor.setValue(data);\n  },\n  setCssEditorValue(state, data) {\n    state.cssEditor.setValue(data);\n  },\n  setWxRendererOptions(state, data) {\n    state.wxRenderer.setOptions(data);\n  },\n  setCiteStatus(state, data) {\n    state.citeStatus = data;\n    localStorage.setItem(\"citeStatus\", data);\n  },\n  setCurrentFont(state, data) {\n    state.currentFont = data;\n    localStorage.setItem(\"fonts\", data);\n  },\n  setCurrentSize(state, data) {\n    state.currentSize = data;\n    localStorage.setItem(\"size\", data);\n  },\n  setCurrentColor(state, data) {\n    state.currentColor = data;\n    localStorage.setItem(\"color\", data);\n  },\n  setCurrentCodeTheme(state, data) {\n    state.codeTheme = data;\n    localStorage.setItem(\"codeTheme\", data);\n  },\n  setRightClickMenuVisible(state, data) {\n    state.rightClickMenuVisible = data;\n  },\n  themeChanged(state) {\n    state.nightMode = !state.nightMode;\n    localStorage.setItem(\"nightMode\", state.nightMode);\n  },\n  initEditorState(state) {\n    state.currentFont =\n      localStorage.getItem(\"fonts\") || config.builtinFonts[0].value;\n    state.currentColor =\n      localStorage.getItem(\"color\") || config.colorOption[0].value;\n    state.currentSize =\n      localStorage.getItem(\"size\") || config.sizeOption[2].value;\n    state.codeTheme =\n      localStorage.getItem(\"codeTheme\") || config.codeThemeOption[0].value;\n    state.citeStatus = localStorage.getItem(\"citeStatus\") === \"true\";\n    state.nightMode = localStorage.getItem(\"nightMode\") === \"true\";\n    state.wxRenderer = new WxRenderer({\n      theme: setColor(state.currentColor),\n      fonts: state.currentFont,\n      size: state.currentSize,\n      status: state.citeStatus,\n    });\n  },\n  initEditorEntity(state) {\n    const editorDom = document.getElementById(\"editor\");\n\n    if (!editorDom.value) {\n      editorDom.value =\n        localStorage.getItem(\"__editor_content\") || formatDoc(DEFAULT_CONTENT);\n    }\n    state.editor = CodeMirror.fromTextArea(editorDom, {\n      mode: \"text/x-markdown\",\n      theme: \"xq-light\",\n      lineNumbers: false,\n      lineWrapping: true,\n      styleActiveLine: true,\n      autoCloseBrackets: true,\n      extraKeys: {\n        \"Ctrl-F\": function autoFormat(editor) {\n          const doc = formatDoc(editor.getValue(0));\n          localStorage.setItem(\"__editor_content\", doc);\n          editor.setValue(doc);\n        },\n        \"Ctrl-S\": function save(editor) {},\n      },\n    });\n  },\n  initCssEditorEntity(state) {\n    const cssEditorDom = document.getElementById(\"cssEditor\");\n\n    if (!cssEditorDom.value) {\n      cssEditorDom.value =\n        localStorage.getItem(\"__css_content\") || DEFAULT_CSS_CONTENT;\n    }\n    state.cssEditor = CodeMirror.fromTextArea(cssEditorDom, {\n      mode: \"css\",\n      theme: \"style-mirror\",\n      lineNumbers: false,\n      lineWrapping: true,\n      matchBrackets: true,\n      autofocus: true,\n      extraKeys: {\n        \"Ctrl-F\": function autoFormat(editor) {\n          const doc = formatCss(editor.getValue(0));\n          localStorage.setItem(\"__css_content\", doc);\n          editor.setValue(doc);\n        },\n        \"Ctrl-S\": function save(editor) {},\n      },\n    });\n  },\n  editorRefresh(state) {\n    let output = marked(state.editor.getValue(0), {\n      renderer: state.wxRenderer.getRenderer(state.citeStatus),\n    });\n\n    // 去除第一行的 margin-top\n    output = output.replace(/(style=\".*?)\"/, '$1;margin-top: 0\"');\n    if (state.citeStatus) {\n      // 引用脚注\n      output += state.wxRenderer.buildFootnotes();\n      // 附加的一些 style\n      output += state.wxRenderer.buildAddition();\n    }\n    state.output = output;\n  },\n  clearEditorToDefault(state) {\n    const doc = formatDoc(DEFAULT_CONTENT);\n\n    state.editor.setValue(doc);\n    state.cssEditor.setValue(DEFAULT_CSS_CONTENT);\n  },\n};\n\nexport default new Vuex.Store({\n  state,\n  mutations,\n  actions: {},\n});\n","import Vue from \"vue\";\nimport {\n  Loading,\n  Message,\n} from \"element-ui\";\n\nVue.component(Message.name, Message);\n\nVue.prototype.$loading = Loading.service;\nVue.prototype.$message = Message;\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.loading)?_c('transition',{attrs:{\"name\":\"fade\"}},[_c('loading')],1):_c('codemirror-editor')}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\",class:{ container_night: _vm.nightMode }},[_c('el-container',[_c('el-header',{staticClass:\"editor__header\"},[_c('editor-header',{ref:\"header\",on:{\"refresh\":_vm.onEditorRefresh,\"cssChanged\":_vm.cssChanged,\"download\":_vm.downloadEditorContent,\"export\":_vm.exportEditorContent,\"showCssEditor\":function($event){_vm.showCssEditor = !_vm.showCssEditor},\"show-about-dialog\":function($event){_vm.aboutDialogVisible = true},\"show-dialog-form\":function($event){_vm.dialogFormVisible = true},\"show-dialog-upload-img\":function($event){_vm.dialogUploadImgVisible = true},\"startCopy\":function($event){(_vm.isCoping = true), (_vm.backLight = true)},\"endCopy\":_vm.endCopy}})],1),_c('el-main',{staticClass:\"main-body\"},[_c('el-row',{staticClass:\"main-section\"},[_c('el-col',{staticClass:\"codeMirror-wrapper\",attrs:{\"span\":12},nativeOn:{\"contextmenu\":function($event){$event.preventDefault();return _vm.openMenu($event)}}},[_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.source),expression:\"source\"}],attrs:{\"id\":\"editor\",\"type\":\"textarea\",\"placeholder\":\"Your markdown text here.\"},domProps:{\"value\":(_vm.source)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.source=$event.target.value}}})]),_c('el-col',{ref:\"preview\",staticClass:\"preview-wrapper\",class:{\n            'preview-wrapper_night': _vm.nightMode && _vm.isCoping,\n          },attrs:{\"span\":12,\"id\":\"preview\"}},[_c('section',{class:{ output_night: _vm.nightMode && !_vm.backLight },attrs:{\"id\":\"output-wrapper\"}},[_c('div',{staticClass:\"preview\"},[_c('section',{attrs:{\"id\":\"output\"},domProps:{\"innerHTML\":_vm._s(_vm.output)}}),(_vm.nightMode && _vm.isCoping)?_c('div',{staticClass:\"loading-mask\"},[_c('div',{staticClass:\"loading__img\"}),_c('span',[_vm._v(\"正在生成\")])]):_vm._e()])])]),_c('transition',{attrs:{\"name\":\"custom-classes-transition\",\"enter-active-class\":\"bounceInRight\"}},[_c('el-col',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showCssEditor),expression:\"showCssEditor\"}],staticClass:\"cssEditor-wrapper\",attrs:{\"id\":\"cssBox\",\"span\":12}},[_c('textarea',{attrs:{\"id\":\"cssEditor\",\"type\":\"textarea\",\"placeholder\":\"Your custom css here.\"}})])],1)],1)],1)],1),_c('upload-img-dialog',{on:{\"close\":function($event){_vm.dialogUploadImgVisible = false},\"beforeUpload\":_vm.beforeUpload,\"uploadImage\":_vm.uploadImage,\"uploaded\":_vm.uploaded},model:{value:(_vm.dialogUploadImgVisible),callback:function ($$v) {_vm.dialogUploadImgVisible=$$v},expression:\"dialogUploadImgVisible\"}}),_c('about-dialog',{model:{value:(_vm.aboutDialogVisible),callback:function ($$v) {_vm.aboutDialogVisible=$$v},expression:\"aboutDialogVisible\"}}),_c('insert-form-dialog',{model:{value:(_vm.dialogFormVisible),callback:function ($$v) {_vm.dialogFormVisible=$$v},expression:\"dialogFormVisible\"}}),_c('right-click-menu',{attrs:{\"left\":_vm.mouseLeft,\"top\":_vm.mouseTop},on:{\"menuTick\":_vm.onMenuEvent,\"closeMenu\":_vm.closeRightClickMenu},model:{value:(_vm.rightClickMenuVisible),callback:function ($$v) {_vm.rightClickMenuVisible=$$v},expression:\"rightClickMenuVisible\"}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-container',{staticClass:\"top is-dark\"},[_c('div',{staticClass:\"left-side\"},[_c('el-tooltip',{attrs:{\"effect\":_vm.effect,\"content\":\"上传图片\",\"placement\":\"bottom-start\"}},[_c('i',{staticClass:\"el-icon-upload\",attrs:{\"size\":\"medium\"},on:{\"click\":function($event){return _vm.$emit('show-dialog-upload-img')}}})]),_c('el-tooltip',{staticClass:\"header__item\",attrs:{\"effect\":_vm.effect,\"content\":\"导出 Markdown 文档\",\"placement\":\"bottom-start\"}},[_c('i',{staticClass:\"el-icon-download\",attrs:{\"size\":\"medium\"},on:{\"click\":function($event){return _vm.$emit('download')}}})]),_c('el-tooltip',{staticClass:\"header__item\",attrs:{\"effect\":_vm.effect,\"content\":\"导出 HTML 页面\",\"placement\":\"bottom-start\"}},[_c('i',{staticClass:\"el-icon-document\",attrs:{\"size\":\"medium\"},on:{\"click\":function($event){return _vm.$emit('export')}}})]),_c('el-tooltip',{staticClass:\"header__item\",attrs:{\"effect\":_vm.effect,\"content\":\"重置页面\",\"placement\":\"bottom-start\"}},[_c('i',{staticClass:\"el-icon-refresh\",attrs:{\"size\":\"medium\"},on:{\"click\":function($event){_vm.showResetConfirm = true}}})]),_c('el-tooltip',{staticClass:\"header__item header__item_last\",attrs:{\"effect\":_vm.effect,\"content\":\"插入表格\",\"placement\":\"bottom-start\"}},[_c('i',{staticClass:\"el-icon-s-grid\",attrs:{\"size\":\"medium\"},on:{\"click\":function($event){return _vm.$emit('show-dialog-form')}}})]),_c('el-select',{attrs:{\"size\":\"mini\",\"placeholder\":\"选择字体\",\"clearable\":\"\"},on:{\"change\":_vm.fontChanged},model:{value:(_vm.selectFont),callback:function ($$v) {_vm.selectFont=$$v},expression:\"selectFont\"}},_vm._l((_vm.config.builtinFonts),function(font){return _c('el-option',{key:font.value,style:({ fontFamily: font.value }),attrs:{\"label\":font.label,\"value\":font.value}},[_c('span',{staticClass:\"select-item-left\"},[_vm._v(_vm._s(font.label))]),_c('span',{staticClass:\"select-item-right\"},[_vm._v(\"Abc\")])])}),1),_c('el-select',{attrs:{\"size\":\"mini\",\"placeholder\":\"选择段落字号\",\"clearable\":\"\"},on:{\"change\":_vm.sizeChanged},model:{value:(_vm.selectSize),callback:function ($$v) {_vm.selectSize=$$v},expression:\"selectSize\"}},_vm._l((_vm.config.sizeOption),function(size){return _c('el-option',{key:size.value,attrs:{\"label\":size.label,\"value\":size.value}},[_c('span',{staticClass:\"select-item-left\"},[_vm._v(_vm._s(size.label))]),_c('span',{staticClass:\"select-item-right\"},[_vm._v(_vm._s(size.desc))])])}),1),_c('el-select',{attrs:{\"size\":\"mini\",\"placeholder\":\"选择颜色\",\"clearable\":\"\"},on:{\"change\":_vm.colorChanged},model:{value:(_vm.selectColor),callback:function ($$v) {_vm.selectColor=$$v},expression:\"selectColor\"}},_vm._l((_vm.config.colorOption),function(color){return _c('el-option',{key:color.value,attrs:{\"label\":color.label,\"value\":color.value}},[_c('span',{staticClass:\"select-item-left\"},[_vm._v(_vm._s(color.label))]),_c('span',{staticClass:\"select-item-right\"},[_vm._v(_vm._s(color.desc))])])}),1),_c('el-tooltip',{attrs:{\"content\":\"自定义颜色\",\"effect\":_vm.effect,\"placement\":\"top\"}},[_c('el-color-picker',{attrs:{\"size\":\"mini\",\"show-alpha\":\"\"},on:{\"change\":_vm.colorChanged},model:{value:(_vm.selectColor),callback:function ($$v) {_vm.selectColor=$$v},expression:\"selectColor\"}})],1),_c('el-tooltip',{attrs:{\"content\":\"微信外链自动转为文末引用\",\"effect\":_vm.effect,\"placement\":\"top\"}},[_c('el-switch',{staticClass:\"header__switch\",attrs:{\"active-color\":\"#67c23a\",\"inactive-color\":\"#dcdfe6\"},on:{\"change\":_vm.statusChanged},model:{value:(_vm.citeStatus),callback:function ($$v) {_vm.citeStatus=$$v},expression:\"citeStatus\"}})],1)],1),_c('div',{staticClass:\"right-side\"},[_c('el-tooltip',{staticClass:\"item\",attrs:{\"effect\":_vm.effect,\"content\":\"自定义CSS样式\",\"placement\":\"left\"}},[_c('el-button',{attrs:{\"type\":_vm.btnType,\"plain\":\"\",\"size\":\"medium\",\"icon\":\"el-icon-setting\"},on:{\"click\":_vm.customStyle}})],1),_c('el-button',{attrs:{\"type\":_vm.btnType,\"plain\":\"\",\"size\":\"medium\",\"placement\":\"bottom-start\"},on:{\"click\":_vm.copy}},[_vm._v(\"复制\")]),_c('el-button',{staticClass:\"about\",attrs:{\"type\":_vm.btnType,\"plain\":\"\",\"size\":\"medium\"},on:{\"click\":function($event){return _vm.$emit('show-about-dialog')}}},[_vm._v(\"关于\")]),_c('el-tooltip',{attrs:{\"content\":_vm.btnContent,\"effect\":_vm.effect,\"placement\":\"bottom-start\"}},[(_vm.nightMode)?_c('div',{staticClass:\"mode__switch mode__switch_black\",on:{\"click\":_vm.themeChanged}}):_c('div',{staticClass:\"mode__switch\",on:{\"click\":_vm.themeChanged}})])],1),_c('resetDialog',{attrs:{\"showResetConfirm\":_vm.showResetConfirm},on:{\"confirm\":_vm.confirmReset,\"close\":_vm.cancelReset}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import juice from \"juice\";\n\nexport function solveWeChatImage() {\n  const clipboardDiv = document.getElementById(\"output\");\n  const images = clipboardDiv.getElementsByTagName(\"img\");\n  for (let i = 0; i < images.length; i++) {\n    const image = images[i];\n    const width = image.getAttribute(\"width\");\n    const height = image.getAttribute(\"height\");\n    image.removeAttribute(\"width\");\n    image.removeAttribute(\"height\");\n    image.style.width = width;\n    image.style.height = height;\n  }\n}\nexport function solveHtml() {\n  const element = document.getElementById(\"output-wrapper\");\n  let html = element.innerHTML;\n  let res = \"\";\n  res = juice.inlineContent(html, {\n    inlinePseudoElements: true,\n    preserveImportant: true,\n  });\n  return res;\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-dialog',{staticClass:\"reset__dialog\",attrs:{\"title\":\"提示\",\"visible\":_vm.showResetConfirm},on:{\"close\":function($event){return _vm.$emit('close')}}},[_c('div',{staticClass:\"text\"},[_vm._v(\"此操作将丢失本地缓存的文本和自定义样式，是否继续?\")]),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{attrs:{\"type\":_vm.btnType,\"plain\":\"\"},on:{\"click\":function($event){return _vm.$emit('close')}}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":_vm.btnType,\"plain\":\"\"},on:{\"click\":function($event){return _vm.$emit('confirm')}}},[_vm._v(\"确 定\")])],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <el-dialog\n    title=\"提示\"\n    class=\"reset__dialog\"\n    :visible=\"showResetConfirm\"\n    @close=\"$emit('close')\"\n  >\n    <div class=\"text\">此操作将丢失本地缓存的文本和自定义样式，是否继续?</div>\n    <div slot=\"footer\" class=\"dialog-footer\">\n      <el-button :type=\"btnType\" plain @click=\"$emit('close')\">取 消</el-button>\n      <el-button :type=\"btnType\" @click=\"$emit('confirm')\" plain\n        >确 定</el-button\n      >\n    </div>\n  </el-dialog>\n</template>\n\n<script>\nimport { mapState } from \"vuex\";\nexport default {\n  props: {\n    showResetConfirm: {\n      type: Boolean,\n      default: false,\n    },\n  },\n  computed: {\n    btnType() {\n      return this.nightMode ? \"default\" : \"primary\";\n    },\n    ...mapState({\n      nightMode: (state) => state.nightMode,\n    }),\n  },\n};\n</script>\n\n<style lang=\"less\" scoped>\n/deep/ .el-dialog {\n  min-width: 440px;\n}\n.reset__dialog {\n  text-align: center;\n}\n\n.text {\n  text-align: center;\n}\n\n.dialog-footer {\n  text-align: center;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./resetDialog.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./resetDialog.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./resetDialog.vue?vue&type=template&id=68392714&scoped=true&\"\nimport script from \"./resetDialog.vue?vue&type=script&lang=js&\"\nexport * from \"./resetDialog.vue?vue&type=script&lang=js&\"\nimport style0 from \"./resetDialog.vue?vue&type=style&index=0&id=68392714&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"68392714\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <el-container class=\"top is-dark\">\n    <div class=\"left-side\">\n      <!-- 图片上传 -->\n      <el-tooltip :effect=\"effect\" content=\"上传图片\" placement=\"bottom-start\">\n        <i\n          class=\"el-icon-upload\"\n          size=\"medium\"\n          @click=\"$emit('show-dialog-upload-img')\"\n        ></i>\n      </el-tooltip>\n      <!-- 导出 Markdown 文档 -->\n      <el-tooltip\n        class=\"header__item\"\n        :effect=\"effect\"\n        content=\"导出 Markdown 文档\"\n        placement=\"bottom-start\"\n      >\n        <i\n          class=\"el-icon-download\"\n          size=\"medium\"\n          @click=\"$emit('download')\"\n        ></i>\n      </el-tooltip>\n      <!-- 导出 HTML -->\n      <el-tooltip\n        class=\"header__item\"\n        :effect=\"effect\"\n        content=\"导出 HTML 页面\"\n        placement=\"bottom-start\"\n      >\n        <i class=\"el-icon-document\" size=\"medium\" @click=\"$emit('export')\"></i>\n      </el-tooltip>\n      <!-- 页面重置 -->\n      <el-tooltip\n        class=\"header__item\"\n        :effect=\"effect\"\n        content=\"重置页面\"\n        placement=\"bottom-start\"\n      >\n        <i\n          class=\"el-icon-refresh\"\n          size=\"medium\"\n          @click=\"showResetConfirm = true\"\n        ></i>\n      </el-tooltip>\n      <!-- 插入表格 -->\n      <el-tooltip\n        class=\"header__item header__item_last\"\n        :effect=\"effect\"\n        content=\"插入表格\"\n        placement=\"bottom-start\"\n      >\n        <i\n          class=\"el-icon-s-grid\"\n          size=\"medium\"\n          @click=\"$emit('show-dialog-form')\"\n        ></i>\n      </el-tooltip>\n      <el-select\n        v-model=\"selectFont\"\n        size=\"mini\"\n        placeholder=\"选择字体\"\n        clearable\n        @change=\"fontChanged\"\n      >\n        <el-option\n          v-for=\"font in config.builtinFonts\"\n          :style=\"{ fontFamily: font.value }\"\n          :key=\"font.value\"\n          :label=\"font.label\"\n          :value=\"font.value\"\n        >\n          <span class=\"select-item-left\">{{ font.label }}</span>\n          <span class=\"select-item-right\">Abc</span>\n        </el-option>\n      </el-select>\n      <el-select\n        v-model=\"selectSize\"\n        size=\"mini\"\n        placeholder=\"选择段落字号\"\n        clearable\n        @change=\"sizeChanged\"\n      >\n        <el-option\n          v-for=\"size in config.sizeOption\"\n          :key=\"size.value\"\n          :label=\"size.label\"\n          :value=\"size.value\"\n        >\n          <span class=\"select-item-left\">{{ size.label }}</span>\n          <span class=\"select-item-right\">{{ size.desc }}</span>\n        </el-option>\n      </el-select>\n      <el-select\n        v-model=\"selectColor\"\n        size=\"mini\"\n        placeholder=\"选择颜色\"\n        clearable\n        @change=\"colorChanged\"\n      >\n        <el-option\n          v-for=\"color in config.colorOption\"\n          :key=\"color.value\"\n          :label=\"color.label\"\n          :value=\"color.value\"\n        >\n          <span class=\"select-item-left\">{{ color.label }}</span>\n          <span class=\"select-item-right\">{{ color.desc }}</span>\n        </el-option>\n      </el-select>\n      <el-tooltip content=\"自定义颜色\" :effect=\"effect\" placement=\"top\">\n        <el-color-picker\n          v-model=\"selectColor\"\n          size=\"mini\"\n          show-alpha\n          @change=\"colorChanged\"\n        ></el-color-picker>\n      </el-tooltip>\n      <el-tooltip\n        content=\"微信外链自动转为文末引用\"\n        :effect=\"effect\"\n        placement=\"top\"\n      >\n        <el-switch\n          class=\"header__switch\"\n          v-model=\"citeStatus\"\n          active-color=\"#67c23a\"\n          inactive-color=\"#dcdfe6\"\n          @change=\"statusChanged\"\n        >\n        </el-switch>\n      </el-tooltip>\n    </div>\n    <div class=\"right-side\">\n      <el-tooltip\n        class=\"item\"\n        :effect=\"effect\"\n        content=\"自定义CSS样式\"\n        placement=\"left\"\n      >\n        <el-button\n          :type=\"btnType\"\n          plain\n          size=\"medium\"\n          icon=\"el-icon-setting\"\n          @click=\"customStyle\"\n        ></el-button>\n      </el-tooltip>\n      <el-button\n        :type=\"btnType\"\n        plain\n        size=\"medium\"\n        @click=\"copy\"\n        placement=\"bottom-start\"\n        >复制</el-button\n      >\n      <el-button\n        :type=\"btnType\"\n        plain\n        size=\"medium\"\n        class=\"about\"\n        @click=\"$emit('show-about-dialog')\"\n        >关于</el-button\n      >\n      <el-tooltip\n        :content=\"btnContent\"\n        :effect=\"effect\"\n        placement=\"bottom-start\"\n      >\n        <div\n          class=\"mode__switch mode__switch_black\"\n          v-if=\"nightMode\"\n          @click=\"themeChanged\"\n        ></div>\n        <div class=\"mode__switch\" v-else @click=\"themeChanged\"></div>\n      </el-tooltip>\n    </div>\n    <resetDialog\n      :showResetConfirm=\"showResetConfirm\"\n      @confirm=\"confirmReset\"\n      @close=\"cancelReset\"\n    />\n  </el-container>\n</template>\n\n<script>\nimport {\n  setFontSize,\n  fixCodeWhiteSpace,\n  setColorWithCustomTemplate,\n} from \"../../assets/scripts/util\";\nimport { solveWeChatImage, solveHtml } from \"../../assets/scripts/converter\";\nimport config from \"../../assets/scripts/config\";\nimport DEFAULT_CSS_CONTENT from \"@/assets/example/theme-css.txt\";\nimport resetDialog from \"./resetDialog\";\nimport { mapState, mapMutations } from \"vuex\";\nexport default {\n  name: \"editor-header\",\n  data() {\n    return {\n      config: config,\n      citeStatus: false,\n      showResetConfirm: false,\n      selectFont: \"\",\n      selectSize: \"\",\n      selectColor: \"\",\n      selectCodeTheme: \"github\",\n    };\n  },\n  components: {\n    resetDialog,\n  },\n  computed: {\n    effect() {\n      return this.nightMode ? \"dark\" : \"light\";\n    },\n    btnContent() {\n      return this.nightMode ? \"浅色模式\" : \"暗黑模式\";\n    },\n    btnType() {\n      return this.nightMode ? \"default\" : \"primary\";\n    },\n    ...mapState({\n      output: (state) => state.output,\n      editor: (state) => state.editor,\n      cssEditor: (state) => state.cssEditor,\n      currentFont: (state) => state.currentFont,\n      currentSize: (state) => state.currentSize,\n      currentColor: (state) => state.currentColor,\n      codeTheme: (state) => state.codeTheme,\n      nightMode: (state) => state.nightMode,\n    }),\n  },\n  methods: {\n    fontChanged(fonts) {\n      this.setWxRendererOptions({\n        fonts: fonts,\n      });\n      this.setCurrentFont(fonts);\n      this.$emit(\"refresh\");\n    },\n    sizeChanged(size) {\n      let theme = setFontSize(size.replace(\"px\", \"\"));\n      theme = setColorWithCustomTemplate(theme, this.currentColor);\n      this.setWxRendererOptions({\n        size: size,\n        theme: theme,\n      });\n      this.setCurrentSize(size);\n      this.$emit(\"refresh\");\n    },\n    colorChanged(color) {\n      let theme = setFontSize(this.currentSize.replace(\"px\", \"\"));\n\n      theme = setColorWithCustomTemplate(theme, color);\n      this.setWxRendererOptions({\n        theme: theme,\n      });\n      this.setCurrentColor(color);\n      this.$emit(\"refresh\");\n    },\n    codeThemeChanged(theme) {\n      this.setCurrentCodeTheme(theme);\n      this.$emit(\"refresh\");\n    },\n    statusChanged(val) {\n      this.setCiteStatus(val);\n      this.$emit(\"refresh\");\n    },\n    // 复制到微信公众号\n    copy(e) {\n      this.$emit(\"startCopy\");\n      setTimeout(() => {\n        let clipboardDiv = document.getElementById(\"output\");\n        solveWeChatImage();\n        fixCodeWhiteSpace();\n        solveHtml();\n        clipboardDiv.focus();\n        window.getSelection().removeAllRanges();\n        let range = document.createRange();\n\n        range.setStartBefore(clipboardDiv.firstChild);\n        range.setEndAfter(clipboardDiv.lastChild);\n        window.getSelection().addRange(range);\n        document.execCommand(\"copy\");\n        window.getSelection().removeAllRanges();\n        fixCodeWhiteSpace(\"normal\");\n        clipboardDiv.innerHTML = this.output;\n        // 输出提示\n        this.$notify({\n          showClose: true,\n          message: \"已复制渲染后的文章到剪贴板，可直接到公众号后台粘贴\",\n          offset: 80,\n          duration: 1600,\n          type: \"success\",\n        });\n        this.$emit(\"refresh\");\n        this.$emit(\"endCopy\");\n      }, 350);\n    },\n    // 自定义CSS样式\n    async customStyle() {\n      this.$emit(\"showCssEditor\");\n      this.$nextTick(() => {\n        if (!this.cssEditor) {\n          this.cssEditor.refresh();\n        }\n      });\n      setTimeout(() => {\n        this.cssEditor.refresh();\n      }, 50);\n\n      let flag = await localStorage.getItem(\"__css_content\");\n      if (!flag) {\n        this.setCssEditorValue(DEFAULT_CSS_CONTENT);\n      }\n    },\n    // 重置页面\n    confirmReset() {\n      localStorage.clear();\n      this.clearEditorToDefault();\n      this.editor.focus();\n      this.citeStatus = false;\n      this.statusChanged(false);\n      this.fontChanged(this.config.builtinFonts[0].value);\n      this.colorChanged(this.config.colorOption[0].value);\n      this.sizeChanged(this.config.sizeOption[2].value);\n      this.$emit(\"cssChanged\");\n      this.selectFont = this.currentFont;\n      this.selectSize = this.currentSize;\n      this.selectColor = this.currentColor;\n      this.showResetConfirm = false;\n    },\n    cancelReset() {\n      this.showResetConfirm = false;\n      this.editor.focus();\n    },\n    ...mapMutations([\n      \"clearEditorToDefault\",\n      \"setCurrentColor\",\n      \"setCiteStatus\",\n      \"themeChanged\",\n      \"setCurrentFont\",\n      \"setCurrentSize\",\n      \"setCssEditorValue\",\n      \"setCurrentCodeTheme\",\n      \"setWxRendererOptions\",\n    ]),\n  },\n  mounted() {\n    this.selectFont = this.currentFont;\n    this.selectSize = this.currentSize;\n    this.selectColor = this.currentColor;\n    this.selectCodeTheme = this.codeTheme;\n  },\n};\n</script>\n\n<style lang=\"less\" scoped>\n.editor__header {\n  width: 100%;\n}\n.header__item {\n  margin: 0 3px;\n}\n.header__item_last {\n  margin-right: 8px;\n}\n.header__switch {\n  margin-left: 8px;\n}\n.mode__switch {\n  margin-left: 24px;\n  margin-right: 24px;\n  width: 24px;\n  height: 24px;\n  background: url(\"../../assets/images/night.png\") no-repeat;\n  background-size: cover;\n  transition: all 0.3s;\n}\n.mode__switch_black {\n  background: url(\"../../assets/images/light.png\") no-repeat;\n  background-size: cover;\n}\n.top {\n  height: 60px;\n  padding: 10px 20px;\n  display: flex;\n  align-items: center;\n  margin-right: 0;\n}\n.el-select {\n  margin-right: 12px;\n}\n.left-side {\n  display: flex;\n  align-items: center;\n  flex: 1;\n}\n.right-side {\n  display: flex;\n  align-items: center;\n}\n\n/*\n.preview table tr:nth-child(even){\n  background: rgb(250, 250, 250);\n}\n */\n.select-item-left {\n  float: left;\n}\n\n.select-item-right {\n  float: right;\n  color: #8492a6;\n  font-size: 13px;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./header.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./header.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./header.vue?vue&type=template&id=1d12595a&scoped=true&\"\nimport script from \"./header.vue?vue&type=script&lang=js&\"\nexport * from \"./header.vue?vue&type=script&lang=js&\"\nimport style0 from \"./header.vue?vue&type=style&index=0&id=1d12595a&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1d12595a\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-dialog',{staticClass:\"about__dialog\",attrs:{\"title\":\"关于\",\"visible\":_vm.value,\"width\":\"30%\",\"center\":\"\"},on:{\"close\":function($event){return _vm.$emit('input', false)}}},[_c('div',{staticStyle:{\"text-align\":\"center\"}},[_c('h3',[_vm._v(\"一款高度简洁的微信 Markdown 编辑器\")])]),_c('div',{staticStyle:{\"text-align\":\"center\",\"margin-top\":\"10px\"}},[_c('p',[_vm._v(\"扫码关注我的公众号，原创技术文章第一时间推送！\")]),_c('img',{staticStyle:{\"width\":\"40%\",\"display\":\"block\",\"margin\":\"20px auto 10px\"},attrs:{\"src\":\"https://gitee.com/yanglbme/resource/raw/master/doocs-md/qrcode.png\"}})]),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{attrs:{\"type\":\"primary\",\"plain\":\"\"},on:{\"click\":function($event){return _vm.onRedirect('https://github.com/doocs/md')}}},[_vm._v(\"GitHub 仓库\")]),_c('el-button',{attrs:{\"type\":\"primary\",\"plain\":\"\"},on:{\"click\":function($event){return _vm.onRedirect('https://gitee.com/doocs/md')}}},[_vm._v(\"Gitee 仓库\")])],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <el-dialog\n    title=\"关于\"\n    class=\"about__dialog\"\n    :visible=\"value\"\n    @close=\"$emit('input', false)\"\n    width=\"30%\"\n    center\n  >\n    <div style=\"text-align: center\">\n      <h3>一款高度简洁的微信 Markdown 编辑器</h3>\n    </div>\n    <div style=\"text-align: center; margin-top: 10px\">\n      <p>扫码关注我的公众号，原创技术文章第一时间推送！</p>\n      <img\n        src=\"https://gitee.com/yanglbme/resource/raw/master/doocs-md/qrcode.png\"\n        style=\"width: 40%; display: block; margin: 20px auto 10px\"\n      />\n    </div>\n    <span slot=\"footer\" class=\"dialog-footer\">\n      <el-button\n        type=\"primary\"\n        @click=\"onRedirect('https://github.com/doocs/md')\"\n        plain\n        >GitHub 仓库</el-button\n      >\n      <el-button\n        type=\"primary\"\n        @click=\"onRedirect('https://gitee.com/doocs/md')\"\n        plain\n        >Gitee 仓库</el-button\n      >\n    </span>\n  </el-dialog>\n</template>\n\n<script>\nexport default {\n  props: {\n    value: {\n      type: Boolean,\n      default: false,\n    },\n  },\n  methods: {\n    onRedirect(url) {\n      window.open(url);\n    },\n  },\n};\n</script>\n\n<style lang=\"less\" scoped>\n/deep/ .el-dialog {\n  min-width: 420px;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./aboutDialog.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./aboutDialog.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./aboutDialog.vue?vue&type=template&id=70c50907&scoped=true&\"\nimport script from \"./aboutDialog.vue?vue&type=script&lang=js&\"\nexport * from \"./aboutDialog.vue?vue&type=script&lang=js&\"\nimport style0 from \"./aboutDialog.vue?vue&type=style&index=0&id=70c50907&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"70c50907\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-dialog',{staticClass:\"insert__dialog\",attrs:{\"title\":\"插入表格\",\"visible\":_vm.value,\"border\":\"\"},on:{\"close\":function($event){return _vm.$emit('input', false)}}},[_c('el-row',{staticClass:\"tb-options\",attrs:{\"type\":\"flex\",\"align\":\"middle\",\"gutter\":10}},[_c('el-col',[_vm._v(\" 行数： \"),_c('el-input-number',{attrs:{\"controls-position\":\"right\",\"min\":1,\"max\":100,\"size\":\"small\"},model:{value:(_vm.rowNum),callback:function ($$v) {_vm.rowNum=$$v},expression:\"rowNum\"}})],1),_c('el-col',[_vm._v(\" 列数： \"),_c('el-input-number',{attrs:{\"controls-position\":\"right\",\"min\":1,\"max\":100,\"size\":\"small\"},model:{value:(_vm.colNum),callback:function ($$v) {_vm.colNum=$$v},expression:\"colNum\"}})],1)],1),_c('table',{staticClass:\"input-table\",staticStyle:{\"border-collapse\":\"collapse\"}},_vm._l((_vm.rowNum + 1),function(row){return _c('tr',{key:row,class:{ 'head-style': row === 1 }},_vm._l((_vm.colNum),function(col){return _c('td',{key:col},[_c('el-input',{attrs:{\"align\":\"center\",\"placeholder\":row === 1 ? '表头' : ''},model:{value:(_vm.tableData[(\"k_\" + (row - 1) + \"_\" + (col - 1))]),callback:function ($$v) {_vm.$set(_vm.tableData, (\"k_\" + (row - 1) + \"_\" + (col - 1)), $$v)},expression:\"tableData[`k_${row - 1}_${col - 1}`]\"}})],1)}),0)}),0),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{attrs:{\"type\":_vm.btnType,\"plain\":\"\"},on:{\"click\":function($event){return _vm.$emit('input', false)}}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":_vm.btnType,\"plain\":\"\"},on:{\"click\":_vm.insertTable}},[_vm._v(\"确 定\")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <el-dialog\n    title=\"插入表格\"\n    class=\"insert__dialog\"\n    :visible=\"value\"\n    @close=\"$emit('input', false)\"\n    border\n  >\n    <el-row class=\"tb-options\" type=\"flex\" align=\"middle\" :gutter=\"10\">\n      <el-col>\n        行数：\n        <el-input-number\n          v-model=\"rowNum\"\n          controls-position=\"right\"\n          :min=\"1\"\n          :max=\"100\"\n          size=\"small\"\n        ></el-input-number>\n      </el-col>\n      <el-col>\n        列数：\n        <el-input-number\n          v-model=\"colNum\"\n          controls-position=\"right\"\n          :min=\"1\"\n          :max=\"100\"\n          size=\"small\"\n        ></el-input-number>\n      </el-col>\n    </el-row>\n    <table style=\"border-collapse: collapse\" class=\"input-table\">\n      <tr\n        :class=\"{ 'head-style': row === 1 }\"\n        v-for=\"row in rowNum + 1\"\n        :key=\"row\"\n      >\n        <td v-for=\"col in colNum\" :key=\"col\">\n          <el-input\n            align=\"center\"\n            v-model=\"tableData[`k_${row - 1}_${col - 1}`]\"\n            :placeholder=\"row === 1 ? '表头' : ''\"\n          />\n        </td>\n      </tr>\n    </table>\n    <div slot=\"footer\" class=\"dialog-footer\">\n      <el-button :type=\"btnType\" plain @click=\"$emit('input', false)\"\n        >取 消</el-button\n      >\n      <el-button :type=\"btnType\" @click=\"insertTable\" plain>确 定</el-button>\n    </div>\n  </el-dialog>\n</template>\n\n<script>\nimport config from \"../../assets/scripts/config\";\nimport { createTable } from \"../../assets/scripts/util\";\nimport { mapState, mapMutations } from \"vuex\";\nexport default {\n  props: {\n    value: {\n      type: Boolean,\n      default: false,\n    },\n  },\n  data() {\n    return {\n      config: config,\n      rowNum: 3,\n      colNum: 3,\n      tableData: {},\n    };\n  },\n  computed: {\n    btnType() {\n      return this.nightMode ? \"default\" : \"primary\";\n    },\n    ...mapState({\n      nightMode: (state) => state.nightMode,\n      editor: (state) => state.editor,\n    }),\n  },\n  methods: {\n    // 插入表格\n    insertTable() {\n      const cursor = this.editor.getCursor();\n      const table = createTable({\n        data: this.tableData,\n        rows: this.rowNum,\n        cols: this.colNum,\n      });\n\n      this.tableData = {};\n      this.rowNum = 3;\n      this.colNum = 3;\n      this.editor.replaceSelection(`\\n${table}\\n`, \"end\");\n      this.$emit(\"input\", false);\n      this.editorRefresh();\n    },\n    ...mapMutations([\"editorRefresh\"]),\n  },\n};\n</script>\n\n<style lang=\"less\" scoped>\n/deep/ .el-dialog {\n  width: 55%;\n  min-height: 375px;\n  min-width: 440px;\n}\n.tb-options {\n  margin-bottom: 20px;\n}\n\n.input-table ::v-deep .el-input__inner {\n  border-radius: 0;\n}\n\n.head-style /deep/ .el-input__inner {\n  background-color: #f2f2f2;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./insertForm.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./insertForm.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./insertForm.vue?vue&type=template&id=4dd4e7e2&scoped=true&\"\nimport script from \"./insertForm.vue?vue&type=script&lang=js&\"\nexport * from \"./insertForm.vue?vue&type=script&lang=js&\"\nimport style0 from \"./insertForm.vue?vue&type=style&index=0&id=4dd4e7e2&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4dd4e7e2\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ul',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.value),expression:\"value\"}],staticClass:\"menu\",style:((\"left: \" + _vm.left + \"px;top: \" + _vm.top + \"px;\")),attrs:{\"id\":\"menu\"}},_vm._l((_vm.menu),function(menuItem,index){return _c('div',{key:index,staticClass:\"menu__group\"},_vm._l((menuItem),function(item){return _c('li',{key:item.key,staticClass:\"menu_item\",on:{\"mousedown\":function($event){return _vm.onMouseDown(item.key)}}},[_c('span',[_vm._v(_vm._s(item.text))])])}),0)}),0)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <ul\n    v-show=\"value\"\n    id=\"menu\"\n    class=\"menu\"\n    :style=\"`left: ${left}px;top: ${top}px;`\"\n  >\n    <div class=\"menu__group\" v-for=\"(menuItem, index) in menu\" :key=\"index\">\n      <li\n        v-for=\"item of menuItem\"\n        :key=\"item.key\"\n        class=\"menu_item\"\n        @mousedown=\"onMouseDown(item.key)\"\n      >\n        <span>{{ item.text }}</span>\n      </li>\n    </div>\n  </ul>\n</template>\n\n<script>\nexport default {\n  props: {\n    value: {\n      type: Boolean,\n      default: false,\n    },\n    top: {\n      type: Number,\n      default: 0,\n    },\n    left: {\n      type: Number,\n      default: 0,\n    },\n  },\n  data() {\n    return {\n      menu: [\n        [\n          {\n            text: \"上传图片\",\n            key: \"insertPic\",\n          },\n          {\n            text: \"插入表格\",\n            key: \"insertTable\",\n          },\n          {\n            text: \"页面重置\",\n            key: \"pageReset\",\n          },\n        ],\n        [\n          {\n            text: '导入 Markdown 文档',\n            key: 'importMarkdown',\n          },\n          {\n            text: \"导出 Markdown 文档\",\n            key: \"download\",\n          },\n          {\n            text: \"导出 HTML 页面\",\n            key: \"export\",\n          },\n          {\n            text: \"格式化 Markdown 文档\",\n            key: \"formatMarkdown\",\n          },\n        ],\n      ],\n    };\n  },\n  methods: {\n    closeCB() {\n      this.$emit(\"input\", false);\n    },\n    onMouseDown(key) {\n      this.$emit(\"menuTick\", key);\n      this.$emit(\"closeMenu\", false);\n    },\n  },\n};\n</script>\n\n<style lang=\"less\" scoped>\n.menu {\n  position: absolute;\n  border-radius: 4px;\n  background-color: #ffffff;\n  box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.12), 0 2px 4px 0 rgba(0, 0, 0, 0.08);\n  z-index: 9999;\n}\n\n.menu_item {\n  margin-top: 10px;\n  min-width: 200px;\n  font-size: 12px;\n  line-height: 20px;\n  color: #333333;\n  cursor: pointer;\n  &:first-of-type {\n    margin-top: 0;\n  }\n  &:hover {\n    background: #f0f0f0;\n  }\n  span,\n  .btn-upload {\n    display: inline-block;\n    padding: 4px 0;\n    padding-left: 24px;\n    width: 100%;\n  }\n  .btn-upload {\n    margin: 0;\n    border: none;\n    outline: none;\n    background: transparent;\n  }\n  .btn-upload:hover {\n    background: #aaaaaa;\n  }\n  ::v-deep .el-upload {\n    width: 100%;\n  }\n}\n\n.menu__group {\n  padding-top: 6px;\n  padding-bottom: 6px;\n  border-bottom: 1px solid #eeeeee;\n  &:last-of-type {\n    border-bottom: none;\n  }\n}\n\nli:hover {\n  background-color: #1790ff;\n}\n\nli {\n  font-size: 15px;\n  list-style: none;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./rightClickMenu.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./rightClickMenu.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./rightClickMenu.vue?vue&type=template&id=a704a2f8&scoped=true&\"\nimport script from \"./rightClickMenu.vue?vue&type=script&lang=js&\"\nexport * from \"./rightClickMenu.vue?vue&type=script&lang=js&\"\nimport style0 from \"./rightClickMenu.vue?vue&type=style&index=0&id=a704a2f8&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"a704a2f8\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-dialog',{staticClass:\"upload__dialog\",attrs:{\"title\":\"本地上传\",\"visible\":_vm.value},on:{\"close\":function($event){return _vm.$emit('close')}}},[_c('el-tabs',{attrs:{\"type\":\"activeName\",\"value\":'upload'}},[_c('el-tab-pane',{staticClass:\"upload-panel\",attrs:{\"label\":\"选择上传\",\"name\":\"upload\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择\",\"size\":\"small\"},on:{\"change\":_vm.changeImgHost},model:{value:(_vm.imgHost),callback:function ($$v) {_vm.imgHost=$$v},expression:\"imgHost\"}},_vm._l((_vm.options),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})}),1),_c('el-upload',{attrs:{\"drag\":\"\",\"action\":\"\",\"headers\":{ 'Content-Type': 'multipart/form-data' },\"show-file-list\":false,\"multiple\":true,\"accept\":\".jpg, .jpeg, .png, .gif\",\"name\":\"file\",\"before-upload\":_vm.beforeImageUpload,\"http-request\":_vm.uploadImage}},[_c('i',{staticClass:\"el-icon-upload\"}),_c('div',{staticClass:\"el-upload__text\"},[_vm._v(\" 将图片拖到此处，或 \"),_c('em',[_vm._v(\"点击上传\")])])])],1),_c('el-tab-pane',{staticClass:\"github-panel\",attrs:{\"label\":\"Gitee 图床\",\"name\":\"gitee\"}},[_c('el-form',{staticClass:\"setting-form\",attrs:{\"model\":_vm.formGitee,\"label-position\":\"right\",\"label-width\":\"140px\"}},[_c('el-form-item',{attrs:{\"label\":\"Gitee 仓库\",\"required\":true}},[_c('el-input',{attrs:{\"placeholder\":\"如：gitee.com/yanglbme/resource\"},model:{value:(_vm.formGitee.repo),callback:function ($$v) {_vm.$set(_vm.formGitee, \"repo\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"formGitee.repo\"}})],1),_c('el-form-item',{attrs:{\"label\":\"分支\"}},[_c('el-input',{attrs:{\"placeholder\":\"如：release，可不填，默认 master\"},model:{value:(_vm.formGitee.branch),callback:function ($$v) {_vm.$set(_vm.formGitee, \"branch\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"formGitee.branch\"}})],1),_c('el-form-item',{attrs:{\"label\":\"私人令牌\",\"required\":true}},[_c('el-input',{attrs:{\"show-password\":\"\",\"placeholder\":\"如：cc1d0c1426d0fd0902bd2d7184b14da61b8abc46\"},model:{value:(_vm.formGitee.accessToken),callback:function ($$v) {_vm.$set(_vm.formGitee, \"accessToken\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"formGitee.accessToken\"}}),_c('el-link',{attrs:{\"type\":\"primary\",\"href\":\"https://gitee.com/profile/personal_access_tokens\",\"target\":\"_blank\"}},[_vm._v(\"请在 Gitee「设置->安全设置->私人令牌」中生成\")])],1),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.saveGiteeConfiguration}},[_vm._v(\"保存配置\")])],1)],1)],1),_c('el-tab-pane',{staticClass:\"github-panel\",attrs:{\"label\":\"GitHub 图床\",\"name\":\"github\"}},[_c('el-form',{staticClass:\"setting-form\",attrs:{\"model\":_vm.formGitHub,\"label-position\":\"right\",\"label-width\":\"140px\"}},[_c('el-form-item',{attrs:{\"label\":\"GitHub 仓库\",\"required\":true}},[_c('el-input',{attrs:{\"placeholder\":\"如：github.com/yanglbme/resource\"},model:{value:(_vm.formGitHub.repo),callback:function ($$v) {_vm.$set(_vm.formGitHub, \"repo\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"formGitHub.repo\"}})],1),_c('el-form-item',{attrs:{\"label\":\"分支\"}},[_c('el-input',{attrs:{\"placeholder\":\"如：release，可不填，默认 master\"},model:{value:(_vm.formGitHub.branch),callback:function ($$v) {_vm.$set(_vm.formGitHub, \"branch\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"formGitHub.branch\"}})],1),_c('el-form-item',{attrs:{\"label\":\"Token\",\"required\":true}},[_c('el-input',{attrs:{\"show-password\":\"\",\"placeholder\":\"如：cc1d0c1426d0fd0902bd2d7184b14da61b8abc46\"},model:{value:(_vm.formGitHub.accessToken),callback:function ($$v) {_vm.$set(_vm.formGitHub, \"accessToken\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"formGitHub.accessToken\"}}),_c('el-link',{attrs:{\"type\":\"primary\",\"href\":\"https://docs.github.com/en/github/authenticating-to-github/creating-a-personal-access-token\",\"target\":\"_blank\"}},[_vm._v(\"如何获取 GitHub Token？\")])],1),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.saveGitHubConfiguration}},[_vm._v(\"保存配置\")])],1)],1)],1),_c('el-tab-pane',{staticClass:\"github-panel\",attrs:{\"label\":\"阿里云 OSS\",\"name\":\"aliOSS\"}},[_c('el-form',{staticClass:\"setting-form\",attrs:{\"model\":_vm.formAliOSS,\"label-position\":\"right\",\"label-width\":\"140px\"}},[_c('el-form-item',{attrs:{\"label\":\"AccessKey ID\",\"required\":true}},[_c('el-input',{attrs:{\"placeholder\":\"如：LTAI4GdoocsmdoxUf13ylbaNHk\"},model:{value:(_vm.formAliOSS.accessKeyId),callback:function ($$v) {_vm.$set(_vm.formAliOSS, \"accessKeyId\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"formAliOSS.accessKeyId\"}})],1),_c('el-form-item',{attrs:{\"label\":\"AccessKey Secret\",\"required\":true}},[_c('el-input',{attrs:{\"show-password\":\"\",\"placeholder\":\"如：cc1d0c142doocs0902bd2d7md4b14da6ylbabc46\"},model:{value:(_vm.formAliOSS.accessKeySecret),callback:function ($$v) {_vm.$set(_vm.formAliOSS, \"accessKeySecret\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"formAliOSS.accessKeySecret\"}})],1),_c('el-form-item',{attrs:{\"label\":\"Bucket\",\"required\":true}},[_c('el-input',{attrs:{\"placeholder\":\"如：doocs\"},model:{value:(_vm.formAliOSS.bucket),callback:function ($$v) {_vm.$set(_vm.formAliOSS, \"bucket\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"formAliOSS.bucket\"}})],1),_c('el-form-item',{attrs:{\"label\":\"Bucket 所在区域\",\"required\":true}},[_c('el-input',{attrs:{\"placeholder\":\"如：oss-cn-shenzhen\"},model:{value:(_vm.formAliOSS.region),callback:function ($$v) {_vm.$set(_vm.formAliOSS, \"region\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"formAliOSS.region\"}})],1),_c('el-form-item',{attrs:{\"label\":\"自定义 CDN 域名\",\"required\":false}},[_c('el-input',{attrs:{\"placeholder\":\"如：https://imagecdn.alidaodao.com，可不填\"},model:{value:(_vm.formAliOSS.cdnHost),callback:function ($$v) {_vm.$set(_vm.formAliOSS, \"cdnHost\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"formAliOSS.cdnHost\"}})],1),_c('el-form-item',{attrs:{\"label\":\"存储路径\"}},[_c('el-input',{attrs:{\"placeholder\":\"如：img，可不填，默认为根目录\"},model:{value:(_vm.formAliOSS.path),callback:function ($$v) {_vm.$set(_vm.formAliOSS, \"path\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"formAliOSS.path\"}}),_c('el-link',{attrs:{\"type\":\"primary\",\"href\":\"https://help.aliyun.com/document_detail/31883.html\",\"target\":\"_blank\"}},[_vm._v(\"如何使用阿里云 OSS？\")])],1),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.saveAliOSSConfiguration}},[_vm._v(\"保存配置\")])],1)],1)],1),_c('el-tab-pane',{staticClass:\"github-panel\",attrs:{\"label\":\"腾讯云 COS\",\"name\":\"txCOS\"}},[_c('el-form',{staticClass:\"setting-form\",attrs:{\"model\":_vm.formTxCOS,\"label-position\":\"right\",\"label-width\":\"140px\"}},[_c('el-form-item',{attrs:{\"label\":\"SecretId\",\"required\":true}},[_c('el-input',{attrs:{\"placeholder\":\"如：AKIDnQp1w3DOOCSs8F5MDp9tdoocsmdUPonW3\"},model:{value:(_vm.formTxCOS.secretId),callback:function ($$v) {_vm.$set(_vm.formTxCOS, \"secretId\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"formTxCOS.secretId\"}})],1),_c('el-form-item',{attrs:{\"label\":\"SecretKey\",\"required\":true}},[_c('el-input',{attrs:{\"show-password\":\"\",\"placeholder\":\"如：ukLmdtEJ9271f3DOocsMDsCXdS3YlbW0\"},model:{value:(_vm.formTxCOS.secretKey),callback:function ($$v) {_vm.$set(_vm.formTxCOS, \"secretKey\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"formTxCOS.secretKey\"}})],1),_c('el-form-item',{attrs:{\"label\":\"Bucket\",\"required\":true}},[_c('el-input',{attrs:{\"placeholder\":\"如：doocs-3212520134\"},model:{value:(_vm.formTxCOS.bucket),callback:function ($$v) {_vm.$set(_vm.formTxCOS, \"bucket\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"formTxCOS.bucket\"}})],1),_c('el-form-item',{attrs:{\"label\":\"Bucket 所在区域\",\"required\":true}},[_c('el-input',{attrs:{\"placeholder\":\"如：ap-guangzhou\"},model:{value:(_vm.formTxCOS.region),callback:function ($$v) {_vm.$set(_vm.formTxCOS, \"region\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"formTxCOS.region\"}})],1),_c('el-form-item',{attrs:{\"label\":\"自定义 CDN 域名\",\"required\":false}},[_c('el-input',{attrs:{\"placeholder\":\"如：https://imagecdn.alidaodao.com，可不填\"},model:{value:(_vm.formTxCOS.cdnHost),callback:function ($$v) {_vm.$set(_vm.formTxCOS, \"cdnHost\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"formTxCOS.cdnHost\"}})],1),_c('el-form-item',{attrs:{\"label\":\"存储路径\"}},[_c('el-input',{attrs:{\"placeholder\":\"如：img，可不填，默认根目录\"},model:{value:(_vm.formTxCOS.path),callback:function ($$v) {_vm.$set(_vm.formTxCOS, \"path\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"formTxCOS.path\"}}),_c('el-link',{attrs:{\"type\":\"primary\",\"href\":\"https://cloud.tencent.com/document/product/436/38484\",\"target\":\"_blank\"}},[_vm._v(\"如何使用腾讯云 COS？\")])],1),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.saveTxCOSConfiguration}},[_vm._v(\"保存配置\")])],1)],1)],1),_c('el-tab-pane',{staticClass:\"github-panel\",attrs:{\"label\":\"七牛云 Kodo\",\"name\":\"qiniu\"}},[_c('el-form',{staticClass:\"setting-form\",attrs:{\"model\":_vm.formQiniu,\"label-position\":\"right\",\"label-width\":\"140px\"}},[_c('el-form-item',{attrs:{\"label\":\"AccessKey\",\"required\":true}},[_c('el-input',{attrs:{\"placeholder\":\"如：6DD3VaLJ_SQgOdoocsyTV_YWaDmdnL2n8EGx7kG\"},model:{value:(_vm.formQiniu.accessKey),callback:function ($$v) {_vm.$set(_vm.formQiniu, \"accessKey\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"formQiniu.accessKey\"}})],1),_c('el-form-item',{attrs:{\"label\":\"SecretKey\",\"required\":true}},[_c('el-input',{attrs:{\"show-password\":\"\",\"placeholder\":\"如：qgZa5qrvDOOcsmdKStD1oCjZ9nB7MDvJUs_34SIm\"},model:{value:(_vm.formQiniu.secretKey),callback:function ($$v) {_vm.$set(_vm.formQiniu, \"secretKey\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"formQiniu.secretKey\"}})],1),_c('el-form-item',{attrs:{\"label\":\"Bucket\",\"required\":true}},[_c('el-input',{attrs:{\"placeholder\":\"如：md\"},model:{value:(_vm.formQiniu.bucket),callback:function ($$v) {_vm.$set(_vm.formQiniu, \"bucket\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"formQiniu.bucket\"}})],1),_c('el-form-item',{attrs:{\"label\":\"Bucket 对应域名\",\"required\":true}},[_c('el-input',{attrs:{\"placeholder\":\"如：https://images.123ylb.cn\"},model:{value:(_vm.formQiniu.domain),callback:function ($$v) {_vm.$set(_vm.formQiniu, \"domain\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"formQiniu.domain\"}})],1),_c('el-form-item',{attrs:{\"label\":\"存储区域\",\"required\":true}},[_c('el-input',{attrs:{\"placeholder\":\"如：z2\"},model:{value:(_vm.formQiniu.region),callback:function ($$v) {_vm.$set(_vm.formQiniu, \"region\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"formQiniu.region\"}})],1),_c('el-form-item',{attrs:{\"label\":\"存储路径\",\"required\":false}},[_c('el-input',{attrs:{\"placeholder\":\"如：img，可不填，默认为根目录\"},model:{value:(_vm.formQiniu.path),callback:function ($$v) {_vm.$set(_vm.formQiniu, \"path\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"formQiniu.path\"}}),_c('el-link',{attrs:{\"type\":\"primary\",\"href\":\"https://developer.qiniu.com/kodo\",\"target\":\"_blank\"}},[_vm._v(\"如何使用七牛云 Kodo？\")])],1),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.saveQiniuConfiguration}},[_vm._v(\"保存配置\")])],1)],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <el-dialog\n    title=\"本地上传\"\n    class=\"upload__dialog\"\n    :visible=\"value\"\n    @close=\"$emit('close')\"\n  >\n    <el-tabs type=\"activeName\" :value=\"'upload'\">\n      <el-tab-pane class=\"upload-panel\" label=\"选择上传\" name=\"upload\">\n        <el-select\n          v-model=\"imgHost\"\n          @change=\"changeImgHost\"\n          placeholder=\"请选择\"\n          size=\"small\"\n        >\n          <el-option\n            v-for=\"item in options\"\n            :key=\"item.value\"\n            :label=\"item.label\"\n            :value=\"item.value\"\n          >\n          </el-option>\n        </el-select>\n        <el-upload\n          drag\n          action=\"\"\n          :headers=\"{ 'Content-Type': 'multipart/form-data' }\"\n          :show-file-list=\"false\"\n          :multiple=\"true\"\n          accept=\".jpg, .jpeg, .png, .gif\"\n          name=\"file\"\n          :before-upload=\"beforeImageUpload\"\n          :http-request=\"uploadImage\"\n        >\n          <i class=\"el-icon-upload\"></i>\n          <div class=\"el-upload__text\">\n            将图片拖到此处，或\n            <em>点击上传</em>\n          </div>\n        </el-upload>\n      </el-tab-pane>\n      <el-tab-pane class=\"github-panel\" label=\"Gitee 图床\" name=\"gitee\">\n        <el-form\n          class=\"setting-form\"\n          :model=\"formGitee\"\n          label-position=\"right\"\n          label-width=\"140px\"\n        >\n          <el-form-item label=\"Gitee 仓库\" :required=\"true\">\n            <el-input\n              v-model.trim=\"formGitee.repo\"\n              placeholder=\"如：gitee.com/yanglbme/resource\"\n            ></el-input>\n          </el-form-item>\n          <el-form-item label=\"分支\">\n            <el-input\n              v-model.trim=\"formGitee.branch\"\n              placeholder=\"如：release，可不填，默认 master\"\n            ></el-input>\n          </el-form-item>\n          <el-form-item label=\"私人令牌\" :required=\"true\">\n            <el-input\n              v-model.trim=\"formGitee.accessToken\"\n              show-password\n              placeholder=\"如：cc1d0c1426d0fd0902bd2d7184b14da61b8abc46\"\n            ></el-input>\n            <el-link\n              type=\"primary\"\n              href=\"https://gitee.com/profile/personal_access_tokens\"\n              target=\"_blank\"\n              >请在 Gitee「设置->安全设置->私人令牌」中生成</el-link\n            >\n          </el-form-item>\n          <el-form-item>\n            <el-button type=\"primary\" @click=\"saveGiteeConfiguration\"\n              >保存配置</el-button\n            >\n          </el-form-item>\n        </el-form>\n      </el-tab-pane>\n      <el-tab-pane class=\"github-panel\" label=\"GitHub 图床\" name=\"github\">\n        <el-form\n          class=\"setting-form\"\n          :model=\"formGitHub\"\n          label-position=\"right\"\n          label-width=\"140px\"\n        >\n          <el-form-item label=\"GitHub 仓库\" :required=\"true\">\n            <el-input\n              v-model.trim=\"formGitHub.repo\"\n              placeholder=\"如：github.com/yanglbme/resource\"\n            ></el-input>\n          </el-form-item>\n          <el-form-item label=\"分支\">\n            <el-input\n              v-model.trim=\"formGitHub.branch\"\n              placeholder=\"如：release，可不填，默认 master\"\n            ></el-input>\n          </el-form-item>\n          <el-form-item label=\"Token\" :required=\"true\">\n            <el-input\n              v-model.trim=\"formGitHub.accessToken\"\n              show-password\n              placeholder=\"如：cc1d0c1426d0fd0902bd2d7184b14da61b8abc46\"\n            ></el-input>\n            <el-link\n              type=\"primary\"\n              href=\"https://docs.github.com/en/github/authenticating-to-github/creating-a-personal-access-token\"\n              target=\"_blank\"\n              >如何获取 GitHub Token？</el-link\n            >\n          </el-form-item>\n          <el-form-item>\n            <el-button type=\"primary\" @click=\"saveGitHubConfiguration\"\n              >保存配置</el-button\n            >\n          </el-form-item>\n        </el-form>\n      </el-tab-pane>\n      <el-tab-pane class=\"github-panel\" label=\"阿里云 OSS\" name=\"aliOSS\">\n        <el-form\n          class=\"setting-form\"\n          :model=\"formAliOSS\"\n          label-position=\"right\"\n          label-width=\"140px\"\n        >\n          <el-form-item label=\"AccessKey ID\" :required=\"true\">\n            <el-input\n              v-model.trim=\"formAliOSS.accessKeyId\"\n              placeholder=\"如：LTAI4GdoocsmdoxUf13ylbaNHk\"\n            ></el-input>\n          </el-form-item>\n          <el-form-item label=\"AccessKey Secret\" :required=\"true\">\n            <el-input\n              v-model.trim=\"formAliOSS.accessKeySecret\"\n              show-password\n              placeholder=\"如：cc1d0c142doocs0902bd2d7md4b14da6ylbabc46\"\n            ></el-input>\n          </el-form-item>\n          <el-form-item label=\"Bucket\" :required=\"true\">\n            <el-input\n              v-model.trim=\"formAliOSS.bucket\"\n              placeholder=\"如：doocs\"\n            ></el-input>\n          </el-form-item>\n          <el-form-item label=\"Bucket 所在区域\" :required=\"true\">\n            <el-input\n              v-model.trim=\"formAliOSS.region\"\n              placeholder=\"如：oss-cn-shenzhen\"\n            ></el-input>\n          </el-form-item>\n          <el-form-item label=\"自定义 CDN 域名\" :required=\"false\">\n            <el-input\n              v-model.trim=\"formAliOSS.cdnHost\"\n              placeholder=\"如：https://imagecdn.alidaodao.com，可不填\"\n            ></el-input>\n          </el-form-item>\n          <el-form-item label=\"存储路径\">\n            <el-input\n              v-model.trim=\"formAliOSS.path\"\n              placeholder=\"如：img，可不填，默认为根目录\"\n            ></el-input>\n            <el-link\n              type=\"primary\"\n              href=\"https://help.aliyun.com/document_detail/31883.html\"\n              target=\"_blank\"\n              >如何使用阿里云 OSS？</el-link\n            >\n          </el-form-item>\n          <el-form-item>\n            <el-button type=\"primary\" @click=\"saveAliOSSConfiguration\"\n              >保存配置</el-button\n            >\n          </el-form-item>\n        </el-form>\n      </el-tab-pane>\n      <el-tab-pane class=\"github-panel\" label=\"腾讯云 COS\" name=\"txCOS\">\n        <el-form\n          class=\"setting-form\"\n          :model=\"formTxCOS\"\n          label-position=\"right\"\n          label-width=\"140px\"\n        >\n          <el-form-item label=\"SecretId\" :required=\"true\">\n            <el-input\n              v-model.trim=\"formTxCOS.secretId\"\n              placeholder=\"如：AKIDnQp1w3DOOCSs8F5MDp9tdoocsmdUPonW3\"\n            ></el-input>\n          </el-form-item>\n          <el-form-item label=\"SecretKey\" :required=\"true\">\n            <el-input\n              v-model.trim=\"formTxCOS.secretKey\"\n              show-password\n              placeholder=\"如：ukLmdtEJ9271f3DOocsMDsCXdS3YlbW0\"\n            ></el-input>\n          </el-form-item>\n          <el-form-item label=\"Bucket\" :required=\"true\">\n            <el-input\n              v-model.trim=\"formTxCOS.bucket\"\n              placeholder=\"如：doocs-3212520134\"\n            ></el-input>\n          </el-form-item>\n          <el-form-item label=\"Bucket 所在区域\" :required=\"true\">\n            <el-input\n              v-model.trim=\"formTxCOS.region\"\n              placeholder=\"如：ap-guangzhou\"\n            ></el-input>\n          </el-form-item>\n          <el-form-item label=\"自定义 CDN 域名\" :required=\"false\">\n            <el-input\n              v-model.trim=\"formTxCOS.cdnHost\"\n              placeholder=\"如：https://imagecdn.alidaodao.com，可不填\"\n            ></el-input>\n          </el-form-item>\n          <el-form-item label=\"存储路径\">\n            <el-input\n              v-model.trim=\"formTxCOS.path\"\n              placeholder=\"如：img，可不填，默认根目录\"\n            ></el-input>\n            <el-link\n              type=\"primary\"\n              href=\"https://cloud.tencent.com/document/product/436/38484\"\n              target=\"_blank\"\n              >如何使用腾讯云 COS？</el-link\n            >\n          </el-form-item>\n          <el-form-item>\n            <el-button type=\"primary\" @click=\"saveTxCOSConfiguration\"\n              >保存配置</el-button\n            >\n          </el-form-item>\n        </el-form>\n      </el-tab-pane>\n      <el-tab-pane class=\"github-panel\" label=\"七牛云 Kodo\" name=\"qiniu\">\n        <el-form\n          class=\"setting-form\"\n          :model=\"formQiniu\"\n          label-position=\"right\"\n          label-width=\"140px\"\n        >\n          <el-form-item label=\"AccessKey\" :required=\"true\">\n            <el-input\n              v-model.trim=\"formQiniu.accessKey\"\n              placeholder=\"如：6DD3VaLJ_SQgOdoocsyTV_YWaDmdnL2n8EGx7kG\"\n            ></el-input>\n          </el-form-item>\n          <el-form-item label=\"SecretKey\" :required=\"true\">\n            <el-input\n              v-model.trim=\"formQiniu.secretKey\"\n              show-password\n              placeholder=\"如：qgZa5qrvDOOcsmdKStD1oCjZ9nB7MDvJUs_34SIm\"\n            ></el-input>\n          </el-form-item>\n          <el-form-item label=\"Bucket\" :required=\"true\">\n            <el-input\n              v-model.trim=\"formQiniu.bucket\"\n              placeholder=\"如：md\"\n            ></el-input>\n          </el-form-item>\n          <el-form-item label=\"Bucket 对应域名\" :required=\"true\">\n            <el-input\n              v-model.trim=\"formQiniu.domain\"\n              placeholder=\"如：https://images.123ylb.cn\"\n            ></el-input>\n          </el-form-item>\n          <el-form-item label=\"存储区域\" :required=\"true\">\n            <el-input\n              v-model.trim=\"formQiniu.region\"\n              placeholder=\"如：z2\"\n            ></el-input>\n          </el-form-item>\n          <el-form-item label=\"存储路径\" :required=\"false\">\n            <el-input\n              v-model.trim=\"formQiniu.path\"\n              placeholder=\"如：img，可不填，默认为根目录\"\n            ></el-input>\n            <el-link\n              type=\"primary\"\n              href=\"https://developer.qiniu.com/kodo\"\n              target=\"_blank\"\n              >如何使用七牛云 Kodo？</el-link\n            >\n          </el-form-item>\n          <el-form-item>\n            <el-button type=\"primary\" @click=\"saveQiniuConfiguration\"\n              >保存配置</el-button\n            >\n          </el-form-item>\n        </el-form>\n      </el-tab-pane>\n    </el-tabs>\n  </el-dialog>\n</template>\n\n<script>\nimport { checkImage } from \"../../assets/scripts/util\";\n\nexport default {\n  props: {\n    value: {\n      type: Boolean,\n      default: false,\n    },\n  },\n  data() {\n    return {\n      formGitHub: {\n        repo: \"\",\n        branch: \"\",\n        accessToken: \"\",\n      },\n      formGitee: {\n        repo: \"\",\n        branch: \"\",\n        accessToken: \"\",\n      },\n      formAliOSS: {\n        accessKeyId: \"\",\n        accessKeySecret: \"\",\n        bucket: \"\",\n        region: \"\",\n        path: \"\",\n        cdnHost: \"\",\n      },\n      formTxCOS: {\n        secretId: \"\",\n        secretKey: \"\",\n        bucket: \"\",\n        region: \"\",\n        path: \"\",\n        cdnHost: \"\",\n      },\n      formQiniu: {\n        accessKey: \"\",\n        secretKey: \"\",\n        bucket: \"\",\n        domain: \"\",\n        region: \"\",\n      },\n      options: [\n        {\n          value: \"default\",\n          label: \"默认\",\n        },\n        {\n          value: \"gitee\",\n          label: \"Gitee\",\n        },\n        {\n          value: \"github\",\n          label: \"GitHub\",\n        },\n        {\n          value: \"aliOSS\",\n          label: \"阿里云\",\n        },\n        {\n          value: \"txCOS\",\n          label: \"腾讯云\",\n        },\n        {\n          value: \"qiniu\",\n          label: \"七牛云\",\n        },\n      ],\n      imgHost: \"default\",\n    };\n  },\n  created() {\n    if (localStorage.getItem(\"githubConfig\")) {\n      this.formGitHub = JSON.parse(localStorage.getItem(\"githubConfig\"));\n    }\n    if (localStorage.getItem(\"giteeConfig\")) {\n      this.formGitee = JSON.parse(localStorage.getItem(\"giteeConfig\"));\n    }\n    if (localStorage.getItem(\"aliOSSConfig\")) {\n      this.formAliOSS = JSON.parse(localStorage.getItem(\"aliOSSConfig\"));\n    }\n    if (localStorage.getItem(\"txCOSConfig\")) {\n      this.formTxCOS = JSON.parse(localStorage.getItem(\"txCOSConfig\"));\n    }\n    if (localStorage.getItem(\"imgHost\")) {\n      this.imgHost = localStorage.getItem(\"imgHost\");\n    }\n  },\n  methods: {\n    changeImgHost() {\n      localStorage.setItem(\"imgHost\", this.imgHost);\n      this.$message.success(\"已成功切换图床\");\n    },\n    saveGitHubConfiguration() {\n      if (!(this.formGitHub.repo && this.formGitHub.accessToken)) {\n        const blankElement = this.formGitHub.repo ? \"token\" : \"GitHub 仓库\";\n        this.$message.error(`参数「​${blankElement}」不能为空`);\n        return;\n      }\n      localStorage.setItem(\"githubConfig\", JSON.stringify(this.formGitHub));\n      this.$message.success(\"保存成功\");\n    },\n    saveGiteeConfiguration() {\n      if (!(this.formGitee.repo && this.formGitee.accessToken)) {\n        const blankElement = this.formGitee.repo ? \"私人令牌\" : \"Gitee 仓库\";\n        this.$message.error(`参数「​${blankElement}」不能为空`);\n        return;\n      }\n      localStorage.setItem(\"giteeConfig\", JSON.stringify(this.formGitee));\n      this.$message.success(\"保存成功\");\n    },\n    saveAliOSSConfiguration() {\n      if (\n        !(\n          this.formAliOSS.accessKeyId &&\n          this.formAliOSS.accessKeySecret &&\n          this.formAliOSS.bucket &&\n          this.formAliOSS.region\n        )\n      ) {\n        this.$message.error(`阿里云 OSS 参数配置不全`);\n        return;\n      }\n      localStorage.setItem(\"aliOSSConfig\", JSON.stringify(this.formAliOSS));\n      this.$message.success(\"保存成功\");\n    },\n\n    saveTxCOSConfiguration() {\n      if (\n        !(\n          this.formTxCOS.secretId &&\n          this.formTxCOS.secretKey &&\n          this.formTxCOS.bucket &&\n          this.formTxCOS.region\n        )\n      ) {\n        this.$message.error(`腾讯云 COS 参数配置不全`);\n        return;\n      }\n      localStorage.setItem(\"txCOSConfig\", JSON.stringify(this.formTxCOS));\n      this.$message.success(\"保存成功\");\n    },\n\n    saveQiniuConfiguration() {\n      if (\n        !(\n          this.formQiniu.accessKey &&\n          this.formQiniu.secretKey &&\n          this.formQiniu.bucket &&\n          this.formQiniu.domain &&\n          this.formQiniu.region\n        )\n      ) {\n        this.$message.error(`七牛云 Kodo 参数配置不全`);\n        return;\n      }\n      localStorage.setItem(\"qiniuConfig\", JSON.stringify(this.formQiniu));\n      this.$message.success(\"保存成功\");\n    },\n\n    beforeImageUpload(file) {\n      // check image\n      const checkResult = checkImage(file);\n      if (!checkResult.ok) {\n        this.$message.error(checkResult.msg);\n        return false;\n      }\n      // check image host\n      let imgHost = localStorage.getItem(\"imgHost\");\n      imgHost = imgHost ? imgHost : \"default\";\n      localStorage.setItem(\"imgHost\", imgHost);\n\n      const config = localStorage.getItem(`${imgHost}Config`);\n      const isValidHost = imgHost == \"default\" || config;\n      if (!isValidHost) {\n        this.$message.error(`请先配置 ${imgHost} 图床参数`);\n        return false;\n      }\n      return true;\n    },\n    uploadImage(params) {\n      this.$emit(\"uploadImage\", params.file);\n    },\n  },\n};\n</script>\n\n<style lang=\"less\" scoped>\n/deep/ .el-dialog {\n  width: 55%;\n  min-height: 615px;\n  min-width: 640px;\n}\n/deep/ .el-upload-dragger {\n  display: flex;\n  flex-flow: column;\n  justify-content: center;\n  width: 500px;\n  height: 360px;\n  .el-icon-upload {\n    margin-top: 0;\n  }\n}\n/deep/ .el-dialog__body {\n  padding-bottom: 50px;\n}\n.upload-panel {\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  text-align: center;\n\n  .el-select {\n    align-self: flex-end;\n    margin: 0 67.75px 20px;\n    width: 100px;\n  }\n}\n\n.github-panel {\n  display: flex;\n  justify-content: center;\n}\n\n.setting-form {\n  width: 100%;\n\n  .el-form-item {\n    margin: 15px;\n  }\n\n  .el-form-item:last-child {\n    text-align: right;\n  }\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./uploadImgDialog.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./uploadImgDialog.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./uploadImgDialog.vue?vue&type=template&id=fc5ed8b0&scoped=true&\"\nimport script from \"./uploadImgDialog.vue?vue&type=script&lang=js&\"\nexport * from \"./uploadImgDialog.vue?vue&type=script&lang=js&\"\nimport style0 from \"./uploadImgDialog.vue?vue&type=style&index=0&id=fc5ed8b0&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"fc5ed8b0\",\n  null\n  \n)\n\nexport default component.exports","import axios from \"axios\";\n\n// 创建axios实例\nconst service = axios.create({\n  baseURL: \"\",\n  timeout: 10 * 1000, // 请求超时时间\n});\n\nservice.interceptors.request.use(\n  (config) => {\n    if (/^(post)|(put)|(delete)$/i.test(config.method)) {\n      if (config.data && config.data.upload) {\n        config.headers[\"Content-Type\"] = \"multipart/form-data\";\n      }\n    }\n    return config;\n  },\n  (error) => {\n    Promise.reject(error);\n  }\n);\n\nservice.interceptors.response.use(\n  (res) => {\n    return res.data ? res.data : Promise.reject(res);\n  },\n  (error) => Promise.reject(error)\n);\n\nexport default service;\n","const githubConfig = {\n  username: \"filess\",\n  repoList: Array.from(\n    [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19],\n    (e) => `img${e}`\n  ),\n  branch: \"main\",\n  accessTokenList: [\n    \"7715d7ca67b5d3837cfdoocsmde8c38421815aa423510af\",\n    \"c411415bf95dbe39625doocsmd5047ba9b7a2a6c9642abe\",\n    \"2821cd8819fa345c053doocsmdca86ac653f8bc20db1f1b\",\n    \"445f0dae46ef1f2a4d6doocsmdc797301e94797b4750a4c\",\n    \"cc1d0c1426d0fd0902bdoocsmdd2d7184b14da61b86ec46\",\n    \"b67e9d15cb6f910492fdoocsmdac6b44d379c953bb19eff\",\n    \"618c4dc2244ccbbc088doocsmd125d17fd31b7d06a50cf3\",\n    \"a4b581732e1c1507458doocsmdc5b223b27dae5e2e16a55\",\n    \"77904db41aee57ad79bdoocsmd760f848201dac9c96fd5e\",\n    \"02f251cb14ac62ab100doocsmdddbfc8527d773f1f04ce1\",\n    \"eb321079a95ba7028d9doocsmde2e84c502dac70de7cf08\",\n    \"22f74fcfb071a961fa2doocsmde28dabc746f0503a15e5d\",\n    \"85124c2bfe7abba0938doocsmd0af7f67918b99d085a5fd\",\n    \"0a561b4d4bbecb2de7edoocsmdd9ba3833d11dbc5e430f5\",\n    \"e8a01491188d8d5a097doocsmd03ede0aad1fe9e3af24e9\",\n    \"36e1f420d7e5bdebd67doocsmd65463562f5f25b20b8377\",\n  ],\n};\n\nconst giteeConfig = {\n  username: \"filesss\",\n  repoList: Array.from(\n    [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19],\n    (e) => `img${e}`\n  ),\n  branch: \"main\",\n  accessTokenList: [\n    \"ed5fc9866bd6c2fdoocsmddd433f806fd2f399c\",\n    \"5448ffebbbf1151doocsmdc4e337cf814fc8a62\",\n    \"25b05efd2557ca2doocsmd75b5c0835e3395911\",\n    \"11628c7a5aef015doocsmd2eeff9fb9566f0458\",\n    \"cb2f5145ed938dedoocsmdbd063b4ed244eecf8\",\n    \"d8c0b57500672c1doocsmd55f48b866b5ebcd98\",\n    \"78c56eadb88e453doocsmd43ddd95753351771a\",\n    \"03e1a688003948fdoocsmda16fcf41e6f03f1f0\",\n    \"c49121cf4d191fbdoocsmdd6a7877ed537e474a\",\n    \"adfeb2fadcdc4aadoocsmdfe1ee869ac9c968ff\",\n    \"116c94549ca4a0ddoocsmd192653af5c0694616\",\n    \"ecf30ed7f2eb184doocsmd51ea4ec8300371d9e\",\n    \"5837cf2bd5afd93doocsmd73904bed31934949e\",\n    \"b5b7e1c7d57e01fdoocsmd5266f552574297d78\",\n    \"684d55564ffbd0bdoocsmd7d747e5cc23aed6d6\",\n    \"3fc04a9d272ab71doocsmd010c56cb57d88d2ba\",\n  ],\n};\n\nexport { githubConfig, giteeConfig };\n","export function utf16to8(str) {\n  var out, i, len, c;\n  out = \"\";\n  len = str.length;\n  for (i = 0; i < len; i++) {\n    c = str.charCodeAt(i);\n    if (c >= 0x0001 && c <= 0x007f) {\n      out += str.charAt(i);\n    } else if (c > 0x07ff) {\n      out += String.fromCharCode(0xe0 | ((c >> 12) & 0x0f));\n      out += String.fromCharCode(0x80 | ((c >> 6) & 0x3f));\n      out += String.fromCharCode(0x80 | ((c >> 0) & 0x3f));\n    } else {\n      out += String.fromCharCode(0xc0 | ((c >> 6) & 0x1f));\n      out += String.fromCharCode(0x80 | ((c >> 0) & 0x3f));\n    }\n  }\n  return out;\n}\n\nexport function utf8to16(str) {\n  var out, i, len, c;\n  var char2, char3;\n  out = \"\";\n  len = str.length;\n  i = 0;\n  while (i < len) {\n    c = str.charCodeAt(i++);\n    switch (c >> 4) {\n      case 0:\n      case 1:\n      case 2:\n      case 3:\n      case 4:\n      case 5:\n      case 6:\n      case 7:\n        // 0xxxxxxx\n        out += str.charAt(i - 1);\n        break;\n      case 12:\n      case 13:\n        // 110x xxxx 10xx xxxx\n        char2 = str.charCodeAt(i++);\n        out += String.fromCharCode(((c & 0x1f) << 6) | (char2 & 0x3f));\n        break;\n      case 14:\n        // 1110 xxxx 10xx xxxx 10xx xxxx\n        char2 = str.charCodeAt(i++);\n        char3 = str.charCodeAt(i++);\n        out += String.fromCharCode(\n          ((c & 0x0f) << 12) | ((char2 & 0x3f) << 6) | ((char3 & 0x3f) << 0)\n        );\n        break;\n    }\n  }\n  return out;\n}\n\nconst base64EncodeChars =\n  \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_\";\nconst base64DecodeChars = new Array(\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  62,\n  -1,\n  -1,\n  -1,\n  63,\n  52,\n  53,\n  54,\n  55,\n  56,\n  57,\n  58,\n  59,\n  60,\n  61,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  0,\n  1,\n  2,\n  3,\n  4,\n  5,\n  6,\n  7,\n  8,\n  9,\n  10,\n  11,\n  12,\n  13,\n  14,\n  15,\n  16,\n  17,\n  18,\n  19,\n  20,\n  21,\n  22,\n  23,\n  24,\n  25,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  26,\n  27,\n  28,\n  29,\n  30,\n  31,\n  32,\n  33,\n  34,\n  35,\n  36,\n  37,\n  38,\n  39,\n  40,\n  41,\n  42,\n  43,\n  44,\n  45,\n  46,\n  47,\n  48,\n  49,\n  50,\n  51,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1\n);\nexport function base64encode(str) {\n  var out, i, len;\n  var c1, c2, c3;\n  len = str.length;\n  i = 0;\n  out = \"\";\n  while (i < len) {\n    c1 = str.charCodeAt(i++) & 0xff;\n    if (i == len) {\n      out += base64EncodeChars.charAt(c1 >> 2);\n      out += base64EncodeChars.charAt((c1 & 0x3) << 4);\n      out += \"==\";\n      break;\n    }\n    c2 = str.charCodeAt(i++);\n    if (i == len) {\n      out += base64EncodeChars.charAt(c1 >> 2);\n      out += base64EncodeChars.charAt(((c1 & 0x3) << 4) | ((c2 & 0xf0) >> 4));\n      out += base64EncodeChars.charAt((c2 & 0xf) << 2);\n      out += \"=\";\n      break;\n    }\n    c3 = str.charCodeAt(i++);\n    out += base64EncodeChars.charAt(c1 >> 2);\n    out += base64EncodeChars.charAt(((c1 & 0x3) << 4) | ((c2 & 0xf0) >> 4));\n    out += base64EncodeChars.charAt(((c2 & 0xf) << 2) | ((c3 & 0xc0) >> 6));\n    out += base64EncodeChars.charAt(c3 & 0x3f);\n  }\n  return out;\n}\n\nexport function base64decode(str) {\n  var c1, c2, c3, c4;\n  var i, len, out;\n  len = str.length;\n  i = 0;\n  out = \"\";\n  while (i < len) {\n    /* c1 */\n    do {\n      c1 = base64DecodeChars[str.charCodeAt(i++) & 0xff];\n    } while (i < len && c1 == -1);\n    if (c1 == -1) break;\n    /* c2 */\n    do {\n      c2 = base64DecodeChars[str.charCodeAt(i++) & 0xff];\n    } while (i < len && c2 == -1);\n    if (c2 == -1) break;\n    out += String.fromCharCode((c1 << 2) | ((c2 & 0x30) >> 4));\n    /* c3 */\n    do {\n      c3 = str.charCodeAt(i++) & 0xff;\n      if (c3 == 61) return out;\n      c3 = base64DecodeChars[c3];\n    } while (i < len && c3 == -1);\n    if (c3 == -1) break;\n    out += String.fromCharCode(((c2 & 0xf) << 4) | ((c3 & 0x3c) >> 2));\n    /* c4 */\n    do {\n      c4 = str.charCodeAt(i++) & 0xff;\n      if (c4 == 61) return out;\n      c4 = base64DecodeChars[c4];\n    } while (i < len && c4 == -1);\n    if (c4 == -1) break;\n    out += String.fromCharCode(((c3 & 0x03) << 6) | c4);\n  }\n  return out;\n}\n\nexport function safe64(base64) {\n  base64 = base64.replace(/\\+/g, \"-\");\n  base64 = base64.replace(/\\//g, \"_\");\n  return base64;\n}\n","import fetch from \"./fetch\";\nimport { githubConfig, giteeConfig } from \"./config\";\nimport CryptoJS from \"crypto-js\";\nimport OSS from \"ali-oss\";\nimport COS from \"cos-js-sdk-v5\";\nimport Buffer from \"buffer-from\";\nimport { v4 as uuidv4 } from \"uuid\";\nimport * as qiniu from \"qiniu-js\";\nimport { utf16to8, base64encode, safe64 } from \"../assets/scripts/tokenTools\";\n\nfunction getConfig(useDefault, platform) {\n  if (useDefault) {\n    // load default config file\n    const config = platform === \"github\" ? githubConfig : giteeConfig;\n    const { username, repoList, branch, accessTokenList } = config;\n\n    // choose random token from access_token list\n    const tokenIndex = Math.floor(Math.random() * accessTokenList.length);\n    const accessToken = accessTokenList[tokenIndex].replace(\"doocsmd\", \"\");\n\n    // choose random repo from repo list\n    const repoIndex = Math.floor(Math.random() * repoList.length);\n    const repo = repoList[repoIndex];\n\n    return { username, repo, branch, accessToken };\n  }\n\n  // load configuration from localStorage\n  const customConfig = JSON.parse(localStorage.getItem(`${platform}Config`));\n\n  // split username/repo\n  const repoUrl = customConfig.repo\n    .replace(`https://${platform}.com/`, \"\")\n    .replace(`http://${platform}.com/`, \"\")\n    .replace(`${platform}.com/`, \"\")\n    .split(\"/\");\n  return {\n    username: repoUrl[0],\n    repo: repoUrl[1],\n    branch: customConfig.branch || \"master\",\n    accessToken: customConfig.accessToken,\n  };\n}\n\nfunction getDir() {\n  const date = new Date();\n  const year = date.getFullYear();\n  const month = (date.getMonth() + 1).toString().padStart(2, \"0\");\n  const day = date.getDate().toString().padStart(2, \"0\");\n  return `${year}/${month}/${day}`;\n}\n\nfunction getDateFilename(filename) {\n  const currentTimestamp = new Date().getTime();\n  const fileSuffix = filename.split(\".\")[1];\n  return `${currentTimestamp}-${uuidv4()}.${fileSuffix}`;\n}\n\n//-----------------------------------------------------------------------\n// GitHub File Upload\n//-----------------------------------------------------------------------\n\nasync function ghFileUpload(content, filename) {\n  const useDefault = localStorage.getItem(\"imgHost\") === \"default\";\n  const { username, repo, branch, accessToken } = getConfig(\n    useDefault,\n    \"github\"\n  );\n  const dir = getDir();\n  const url = `https://api.github.com/repos/${username}/${repo}/contents/${dir}/`;\n  const dateFilename = getDateFilename(filename);\n  const res = await fetch({\n    url: url + dateFilename,\n    method: \"put\",\n    headers: {\n      Authorization: `token ${accessToken}`,\n    },\n    data: {\n      content,\n      branch,\n      message: `Upload by ${window.location.href}`,\n    },\n  });\n\n  const githubResourceUrl = `raw.githubusercontent.com/${username}/${repo}/${branch}/`;\n  const cdnResourceUrl = `cdn.jsdelivr.net/gh/${username}/${repo}@${branch}/`;\n  return useDefault\n    ? res.data.content.download_url.replace(githubResourceUrl, cdnResourceUrl)\n    : res.data.content.download_url;\n}\n\n//-----------------------------------------------------------------------\n// Gitee File Upload\n//-----------------------------------------------------------------------\n\nasync function giteeUpload(content, filename) {\n  const useDefault = localStorage.getItem(\"imgHost\") === \"default\";\n  const { username, repo, branch, accessToken } = getConfig(\n    useDefault,\n    \"gitee\"\n  );\n  const dir = getDir();\n  const dateFilename = getDateFilename(filename);\n  const url = `https://gitee.com/api/v5/repos/${username}/${repo}/contents/${dir}/${dateFilename}`;\n  const res = await fetch({\n    url,\n    method: \"POST\",\n    data: {\n      content,\n      branch,\n      access_token: accessToken,\n      message: `Upload by ${window.location.href}`,\n    },\n  });\n  return encodeURI(res.data.content.download_url);\n}\n\n//-----------------------------------------------------------------------\n// Qiniu File Upload\n//-----------------------------------------------------------------------\n\nfunction getQiniuToken(accessKey, secretKey, putPolicy) {\n  const policy = JSON.stringify(putPolicy);\n  const encoded = base64encode(utf16to8(policy));\n  const hash = CryptoJS.HmacSHA1(encoded, secretKey);\n  const encodedSigned = hash.toString(CryptoJS.enc.Base64);\n  return `${accessKey}:${safe64(encodedSigned)}:${encoded}`;\n}\n\nasync function qiniuUpload(file) {\n  const { accessKey, secretKey, bucket, region, path, domain } = JSON.parse(\n    localStorage.getItem(\"qiniuConfig\")\n  );\n  const token = getQiniuToken(accessKey, secretKey, {\n    scope: bucket,\n    deadline: Math.trunc(new Date().getTime() / 1000) + 3600,\n  });\n  const dir = path ? `${path}/` : \"\";\n  const dateFilename = dir + getDateFilename(file.name);\n  const observable = qiniu.upload(file, dateFilename, token, {}, { region });\n  return new Promise((resolve, reject) => {\n    observable.subscribe({\n      next: (result) => {\n        console.log(result);\n      },\n      error: (err) => {\n        reject(err.message);\n      },\n      complete: (result) => {\n        resolve(`${domain}/${result.key}`);\n      },\n    });\n  });\n}\n\n//-----------------------------------------------------------------------\n// AliOSS File Upload\n//-----------------------------------------------------------------------\n\nasync function aliOSSFileUpload(content, filename) {\n  const dateFilename = getDateFilename(filename);\n  const { region, bucket, accessKeyId, accessKeySecret, cdnHost, path } =\n    JSON.parse(localStorage.getItem(\"aliOSSConfig\"));\n  const buffer = Buffer(content, \"base64\");\n  const dir = `${path}/${dateFilename}`;\n  const client = new OSS({\n    region,\n    bucket,\n    accessKeyId,\n    accessKeySecret,\n  });\n  try {\n    const res = await client.put(dir, buffer);\n    if (cdnHost == \"\") return res.url;\n    return `${cdnHost}/${path == \"\" ? dateFilename : dir}`;\n  } catch (e) {\n    return Promise.reject(e);\n  }\n}\n\n//-----------------------------------------------------------------------\n// TxCOS File Upload\n//-----------------------------------------------------------------------\n\nasync function txCOSFileUpload(file) {\n  const dateFilename = getDateFilename(file.name);\n  const { secretId, secretKey, bucket, region, path, cdnHost } = JSON.parse(\n    localStorage.getItem(\"txCOSConfig\")\n  );\n  const cos = new COS({\n    SecretId: secretId,\n    SecretKey: secretKey,\n  });\n  return new Promise((resolve, reject) => {\n    cos.putObject(\n      {\n        Bucket: bucket,\n        Region: region,\n        Key: `${path}/${dateFilename}`,\n        Body: file,\n      },\n      function (err, data) {\n        if (err) {\n          reject(err);\n        } else if (cdnHost) {\n          resolve(\n            path == \"\"\n              ? `${cdnHost}/${dateFilename}`\n              : `${cdnHost}/${path}/${dateFilename}`\n          );\n        } else {\n          resolve(`https://${data.Location}`);\n        }\n      }\n    );\n  });\n}\n\nfunction fileUpload(content, file) {\n  const imgHost = localStorage.getItem(\"imgHost\");\n  !imgHost && localStorage.setItem(\"imgHost\", \"default\");\n  switch (imgHost) {\n    case \"aliOSS\":\n      return aliOSSFileUpload(content, file.name);\n    case \"txCOS\":\n      return txCOSFileUpload(file);\n    case \"qiniu\":\n      return qiniuUpload(file);\n    case \"gitee\":\n      return giteeUpload(content, file.name);\n    case \"github\":\n      return ghFileUpload(content, file.name);\n    default:\n      // return file.size / 1024 < 1024\n      //     ? giteeUpload(content, file.name)\n      //     : ghFileUpload(content, file.name);\n      return ghFileUpload(content, file.name);\n  }\n}\n\nexport default {\n  fileUpload,\n};\n","<template>\n  <div class=\"container\" :class=\"{ container_night: nightMode }\">\n    <el-container>\n      <el-header class=\"editor__header\">\n        <editor-header\n          ref=\"header\"\n          @refresh=\"onEditorRefresh\"\n          @cssChanged=\"cssChanged\"\n          @download=\"downloadEditorContent\"\n          @export=\"exportEditorContent\"\n          @showCssEditor=\"showCssEditor = !showCssEditor\"\n          @show-about-dialog=\"aboutDialogVisible = true\"\n          @show-dialog-form=\"dialogFormVisible = true\"\n          @show-dialog-upload-img=\"dialogUploadImgVisible = true\"\n          @startCopy=\"(isCoping = true), (backLight = true)\"\n          @endCopy=\"endCopy\"\n        />\n      </el-header>\n      <el-main class=\"main-body\">\n        <el-row class=\"main-section\">\n          <el-col\n            :span=\"12\"\n            class=\"codeMirror-wrapper\"\n            @contextmenu.prevent.native=\"openMenu($event)\"\n          >\n            <textarea\n              id=\"editor\"\n              type=\"textarea\"\n              placeholder=\"Your markdown text here.\"\n              v-model=\"source\"\n            >\n            </textarea>\n          </el-col>\n          <el-col\n            :span=\"12\"\n            class=\"preview-wrapper\"\n            id=\"preview\"\n            ref=\"preview\"\n            :class=\"{\n              'preview-wrapper_night': nightMode && isCoping,\n            }\"\n          >\n            <section\n              id=\"output-wrapper\"\n              :class=\"{ output_night: nightMode && !backLight }\"\n            >\n              <div class=\"preview\">\n                <section id=\"output\" v-html=\"output\"></section>\n                <div class=\"loading-mask\" v-if=\"nightMode && isCoping\">\n                  <div class=\"loading__img\"></div>\n                  <span>正在生成</span>\n                </div>\n              </div>\n            </section>\n          </el-col>\n          <transition\n            name=\"custom-classes-transition\"\n            enter-active-class=\"bounceInRight\"\n          >\n            <el-col\n              id=\"cssBox\"\n              v-show=\"showCssEditor\"\n              :span=\"12\"\n              class=\"cssEditor-wrapper\"\n            >\n              <textarea\n                id=\"cssEditor\"\n                type=\"textarea\"\n                placeholder=\"Your custom css here.\"\n              >\n              </textarea>\n            </el-col>\n          </transition>\n        </el-row>\n      </el-main>\n    </el-container>\n    <upload-img-dialog\n      v-model=\"dialogUploadImgVisible\"\n      @close=\"dialogUploadImgVisible = false\"\n      @beforeUpload=\"beforeUpload\"\n      @uploadImage=\"uploadImage\"\n      @uploaded=\"uploaded\"\n    />\n    <about-dialog v-model=\"aboutDialogVisible\" />\n    <insert-form-dialog v-model=\"dialogFormVisible\" />\n    <right-click-menu\n      v-model=\"rightClickMenuVisible\"\n      :left=\"mouseLeft\"\n      :top=\"mouseTop\"\n      @menuTick=\"onMenuEvent\"\n      @closeMenu=\"closeRightClickMenu\"\n    />\n  </div>\n</template>\n<script>\nimport editorHeader from \"../../../components/CodemirrorEditor/header\";\nimport aboutDialog from \"../../../components/CodemirrorEditor/aboutDialog\";\nimport insertFormDialog from \"../../../components/CodemirrorEditor/insertForm\";\nimport rightClickMenu from \"../../../components/CodemirrorEditor/rightClickMenu\";\nimport uploadImgDialog from \"../../../components/CodemirrorEditor/uploadImgDialog\";\n\nimport {\n  css2json,\n  downloadMD,\n  exportHTML,\n  formatDoc,\n  setFontSize,\n  saveEditorContent,\n  customCssWithTemplate,\n  checkImage,\n} from \"../../../assets/scripts/util\";\n\nimport { toBase64 } from \"../../../assets/scripts/util\";\nimport fileApi from \"../../../api/file\";\n\nrequire(\"codemirror/mode/javascript/javascript\");\nimport { mapState, mapMutations } from \"vuex\";\nexport default {\n  data() {\n    return {\n      showCssEditor: false,\n      aboutDialogVisible: false,\n      dialogUploadImgVisible: false,\n      dialogFormVisible: false,\n      isCoping: false,\n      isImgLoading: false,\n      backLight: false,\n      timeout: null,\n      changeTimer: null,\n      source: \"\",\n      mouseLeft: 0,\n      mouseTop: 0,\n    };\n  },\n  components: {\n    editorHeader,\n    aboutDialog,\n    insertFormDialog,\n    rightClickMenu,\n    uploadImgDialog,\n  },\n  computed: {\n    ...mapState({\n      wxRenderer: (state) => state.wxRenderer,\n      output: (state) => state.output,\n      editor: (state) => state.editor,\n      cssEditor: (state) => state.cssEditor,\n      currentSize: (state) => state.currentSize,\n      currentColor: (state) => state.currentColor,\n      nightMode: (state) => state.nightMode,\n      rightClickMenuVisible: (state) => state.rightClickMenuVisible,\n    }),\n  },\n  created() {\n    this.initEditorState();\n    this.$nextTick(() => {\n      this.initEditor();\n      this.initCssEditor();\n      this.onEditorRefresh();\n    });\n  },\n  methods: {\n    initEditor() {\n      this.initEditorEntity();\n      this.editor.on(\"change\", (cm, e) => {\n        if (this.changeTimer) clearTimeout(this.changeTimer);\n        this.changeTimer = setTimeout(() => {\n          this.onEditorRefresh();\n          saveEditorContent(this.editor, \"__editor_content\");\n        }, 300);\n      });\n\n      // 粘贴上传图片并插入\n      this.editor.on(\"paste\", (cm, e) => {\n        if (!(e.clipboardData && e.clipboardData.items) || this.isImgLoading) {\n          return;\n        }\n        for (let i = 0, len = e.clipboardData.items.length; i < len; ++i) {\n          let item = e.clipboardData.items[i];\n          if (item.kind === \"file\") {\n            // 校验图床参数\n            const pasteFile = item.getAsFile();\n            const isValid = this.beforeUpload(pasteFile);\n            if (!isValid) {\n              continue;\n            }\n            this.uploadImage(pasteFile);\n          }\n        }\n      });\n\n      this.editor.on(\"mousedown\", () => {\n        this.$store.commit(\"setRightClickMenuVisible\", false);\n      });\n      this.editor.on(\"blur\", () => {\n        //!影响到右键菜单的点击事件，右键菜单的点击事件在组件内通过mousedown触发\n        this.$store.commit(\"setRightClickMenuVisible\", false);\n      });\n      this.editor.on(\"scroll\", () => {\n        this.$store.commit(\"setRightClickMenuVisible\", false);\n      });\n    },\n    initCssEditor() {\n      this.initCssEditorEntity();\n      // 自动提示\n      this.cssEditor.on(\"keyup\", (cm, e) => {\n        if ((e.keyCode >= 65 && e.keyCode <= 90) || e.keyCode === 189) {\n          cm.showHint(e);\n        }\n      });\n      this.cssEditor.on(\"update\", (instance) => {\n        this.cssChanged();\n        saveEditorContent(this.cssEditor, \"__css_content\");\n      });\n    },\n    cssChanged() {\n      let json = css2json(this.cssEditor.getValue(0));\n      let theme = setFontSize(this.currentSize.replace(\"px\", \"\"));\n\n      theme = customCssWithTemplate(json, this.currentColor, theme);\n      this.setWxRendererOptions({\n        theme: theme,\n      });\n      this.onEditorRefresh();\n    },\n    beforeUpload(file) {\n      // validate image\n      const checkResult = checkImage(file);\n      if (!checkResult.ok) {\n        this.$message.error(checkResult.msg);\n        return false;\n      }\n\n      // check image host\n      let imgHost = localStorage.getItem(\"imgHost\");\n      imgHost = imgHost ? imgHost : \"default\";\n      localStorage.setItem(\"imgHost\", imgHost);\n\n      const config = localStorage.getItem(`${imgHost}Config`);\n      const isValidHost = imgHost == \"default\" || config;\n      if (!isValidHost) {\n        this.$message.error(`请先配置 ${imgHost} 图床参数`);\n        return false;\n      }\n      return true;\n    },\n    uploadImage(file) {\n      this.isImgLoading = true;\n      toBase64(file)\n        .then((base64Content) => {\n          fileApi\n            .fileUpload(base64Content, file)\n            .then((url) => {\n              this.uploaded(url);\n            })\n            .catch((err) => {\n              this.$message.error(err.message);\n            });\n        })\n        .catch((err) => {\n          this.$message.error(err.message);\n        });\n      this.isImgLoading = false;\n    },\n    // 图片上传结束\n    uploaded(response) {\n      if (!response) {\n        this.$message.error(\"上传图片未知异常\");\n        return;\n      }\n      this.dialogUploadImgVisible = false;\n      // 上传成功，获取光标\n      const cursor = this.editor.getCursor();\n      const imageUrl = response;\n      const markdownImage = `![](${imageUrl})`;\n      // 将 Markdown 形式的 URL 插入编辑框光标所在位置\n      this.editor.replaceSelection(`\\n${markdownImage}\\n`, cursor);\n      this.$message.success(\"图片上传成功\");\n      this.onEditorRefresh();\n    },\n    // 左右滚动\n    leftAndRightScroll() {\n      const scrollCB = (text) => {\n        let source, target;\n\n        clearTimeout(this.timeout);\n        if (text === \"preview\") {\n          source = this.$refs.preview.$el;\n          target = document.getElementsByClassName(\"CodeMirror-scroll\")[0];\n          this.editor.off(\"scroll\", editorScrollCB);\n          this.timeout = setTimeout(() => {\n            this.editor.on(\"scroll\", editorScrollCB);\n          }, 300);\n        } else if (text === \"editor\") {\n          source = document.getElementsByClassName(\"CodeMirror-scroll\")[0];\n          target = this.$refs.preview.$el;\n          target.removeEventListener(\"scroll\", previewScrollCB, false);\n          this.timeout = setTimeout(() => {\n            target.addEventListener(\"scroll\", previewScrollCB, false);\n          }, 300);\n        }\n\n        let percentage =\n          source.scrollTop / (source.scrollHeight - source.offsetHeight);\n        let height = percentage * (target.scrollHeight - target.offsetHeight);\n\n        target.scrollTo(0, height);\n      };\n      const editorScrollCB = () => {\n        scrollCB(\"editor\");\n      };\n      const previewScrollCB = () => {\n        scrollCB(\"preview\");\n      };\n\n      this.$refs.preview.$el.addEventListener(\"scroll\", previewScrollCB, false);\n      this.editor.on(\"scroll\", editorScrollCB);\n    },\n    // 更新编辑器\n    onEditorRefresh() {\n      this.editorRefresh();\n      setTimeout(() => PR.prettyPrint(), 0);\n    },\n    // 复制结束\n    endCopy() {\n      this.backLight = false;\n      setTimeout(() => {\n        this.isCoping = false;\n      }, 800);\n    },\n    // 导出编辑器内容到本地\n    downloadEditorContent() {\n      downloadMD(this.editor.getValue(0));\n    },\n    // 导出编辑器内容为 HTML，并且下载到本地\n    exportEditorContent() {\n      this.$nextTick(() => {\n        exportHTML();\n      });\n    },\n    // 导入 Markdown 文档\n    importMarkdownContent() {\n      let menu = document.getElementById(\"menu\");\n      let input = document.createElement(\"input\");\n      input.type = \"file\";\n      input.name = \"filename\";\n      input.accept = \".txt,.md\";\n      menu.appendChild(input);\n      input.onchange = () => {\n        if (!input.files) {\n          return;\n        }\n        const file = input.files[0];\n        if (!/\\.(txt|TXT|MD|md)$/.test(file.name)) {\n          this.$message.error(\"不支持的文档格式\");\n          return;\n        }\n        const reader = new FileReader();\n        reader.readAsText(file);\n        reader.onload = (event) => {\n          let txt = event.target.result;\n          txt = formatDoc(txt);\n          if (txt) {\n            localStorage.setItem(\"__editor_content\", txt);\n            this.editor.setValue(txt);\n            this.$message.success(\"文档导入成功\");\n          }\n        };\n      };\n      input.click();\n      menu.removeChild(input);\n    },\n    // 格式化文档\n    formatContent() {\n      const doc = formatDoc(this.editor.getValue(0));\n      localStorage.setItem(\"__editor_content\", doc);\n      this.editor.setValue(doc);\n    },\n    // 右键菜单\n    openMenu(e) {\n      const menuMinWidth = 105;\n      const offsetLeft = this.$el.getBoundingClientRect().left;\n      const offsetWidth = this.$el.offsetWidth;\n      const maxLeft = offsetWidth - menuMinWidth;\n      const left = e.clientX - offsetLeft;\n      this.mouseLeft = Math.min(maxLeft, left);\n      this.mouseTop = e.clientY + 10;\n      this.$store.commit(\"setRightClickMenuVisible\", true);\n    },\n    closeRightClickMenu() {\n      this.$store.commit(\"setRightClickMenuVisible\", false);\n    },\n    onMenuEvent(type, info = {}) {\n      switch (type) {\n        case \"pageReset\":\n          this.$refs.header.showResetConfirm = true;\n          break;\n        case \"insertPic\":\n          this.dialogUploadImgVisible = true;\n          break;\n        case \"download\":\n          this.downloadEditorContent();\n          break;\n        case \"export\":\n          this.exportEditorContent();\n          break;\n        case \"insertTable\":\n          this.dialogFormVisible = true;\n          break;\n        case \"importMarkdown\":\n          this.importMarkdownContent();\n          break;\n        case \"formatMarkdown\":\n          this.formatContent();\n          break;\n        default:\n          break;\n      }\n    },\n    ...mapMutations([\n      \"initEditorState\",\n      \"initEditorEntity\",\n      \"setWxRendererOptions\",\n      \"editorRefresh\",\n      \"initCssEditorEntity\",\n    ]),\n  },\n  mounted() {\n    setTimeout(() => {\n      this.leftAndRightScroll();\n      PR.prettyPrint();\n    }, 300);\n  },\n};\n</script>\n\n<style lang=\"less\" scoped>\n.editor__header {\n  padding: 0;\n}\n</style>\n\n<style lang=\"less\" scoped>\n.main-body {\n  padding-top: 12px;\n  overflow: hidden;\n}\n.el-main {\n  transition: all 0.3s;\n  padding: 0;\n  margin: 20px;\n  margin-top: 0;\n}\n.container {\n  transition: all 0.3s;\n}\n.textarea-wrapper {\n  height: 100%;\n}\n.preview-wrapper_night {\n  overflow-y: inherit;\n  position: relative;\n  left: -3px;\n  .preview {\n    background-color: #fff;\n  }\n}\n#output-wrapper {\n  position: relative;\n  user-select: text;\n}\n.loading-mask {\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  width: 376px;\n  height: 101%;\n  padding-top: 1px;\n  font-size: 15px;\n  color: gray;\n  background-color: #1e1e1e;\n  .loading__img {\n    position: absolute;\n    left: 50%;\n    top: 330px;\n    width: 50px;\n    height: 50px;\n    transform: translate(-50%, -50%);\n    background: url(\"../../../assets/images/favicon.png\") no-repeat;\n    background-size: cover;\n  }\n  span {\n    position: absolute;\n    left: 50%;\n    top: 390px;\n    transform: translate(-50%, -50%);\n  }\n}\n.bounceInRight {\n  animation-name: bounceInRight;\n  animation-duration: 1s;\n  animation-fill-mode: both;\n}\n/deep/ .preview-table {\n  border-spacing: 0px;\n}\n\n@keyframes bounceInRight {\n  0%,\n  60%,\n  75%,\n  90%,\n  100% {\n    transition-timing-function: cubic-bezier(0.215, 0.61, 0.355, 1);\n  }\n  0% {\n    opacity: 0;\n    transform: translate3d(3000px, 0, 0);\n  }\n  60% {\n    opacity: 1;\n    transform: translate3d(-25px, 0, 0);\n  }\n  75% {\n    transform: translate3d(10px, 0, 0);\n  }\n  90% {\n    transform: translate3d(-5px, 0, 0);\n  }\n  100% {\n    transform: none;\n  }\n}\n</style>\n<style lang=\"less\" scoped>\n@import url(\"../../../assets/less/app.less\");\n@import url(\"../../../assets/less/github-v2.min.css\");\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CodemirrorEditor.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CodemirrorEditor.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CodemirrorEditor.vue?vue&type=template&id=7acf9643&scoped=true&\"\nimport script from \"./CodemirrorEditor.vue?vue&type=script&lang=js&\"\nexport * from \"./CodemirrorEditor.vue?vue&type=script&lang=js&\"\nimport style0 from \"./CodemirrorEditor.vue?vue&type=style&index=0&id=7acf9643&lang=less&scoped=true&\"\nimport style1 from \"./CodemirrorEditor.vue?vue&type=style&index=1&id=7acf9643&lang=less&scoped=true&\"\nimport style2 from \"./CodemirrorEditor.vue?vue&type=style&index=2&id=7acf9643&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7acf9643\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <transition name=\"fade\" v-if=\"loading\">\n    <loading />\n  </transition>\n  <codemirror-editor v-else />\n</template>\n\n<script>\nimport Loading from \"../../components/Loading\";\nimport CodemirrorEditor from \"./view/CodemirrorEditor\";\nexport default {\n  name: \"App\",\n  components: {\n    Loading,\n    CodemirrorEditor,\n  },\n  data() {\n    return {\n      loading: true,\n    };\n  },\n  mounted() {\n    setTimeout(() => {\n      this.loading = false;\n    }, 100);\n  },\n};\n</script>\n\n<style scoped>\n.fade-enter,\n.fade-leave-to {\n  opacity: 0;\n}\n.fade-enter-to,\n.fade-leave {\n  opacity: 1;\n}\n.fade-enter-active,\n.fade-leave-active {\n  transition: all 1s;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=8e90ad4c&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=8e90ad4c&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"8e90ad4c\",\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue'\nimport VueRouter from 'vue-router'\nimport index from '@/pages/index/index'\n\nVue.use(VueRouter)\n\nconst routes = [\n  {\n    path: `/`,\n    name: `index`,\n    component: index,\n  }\n]\n\nconst router = new VueRouter({\n  mode: `history`,\n  base: process.env.BASE_URL,\n  routes,\n})\n\nexport default router\n","import Vue from \"vue\";\nimport App from \"./App\";\nimport store from \"./store\";\nimport ElementUI from \"element-ui\";\nimport \"element-ui/lib/theme-chalk/index.css\";\nimport \"./plugins/element\";\nimport \"codemirror/lib/codemirror.css\";\nimport \"codemirror/theme/xq-light.css\";\nimport \"codemirror/mode/css/css\";\nimport \"codemirror/mode/markdown/markdown\";\nimport \"codemirror/addon/edit/closebrackets\";\nimport \"codemirror/addon/edit/matchbrackets\";\nimport \"codemirror/addon/selection/active-line\";\nimport \"codemirror/addon/hint/show-hint.js\";\nimport \"codemirror/addon/hint/css-hint.js\";\nimport router from './router';\n\nVue.use(ElementUI);\n\nVue.config.productionTip = false;\n\nApp.mpType = \"app\";\n\nconst app = new Vue({\n  router,\n  store,\n  ...App,\n});\napp.$mount(\"#app\");\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./insertForm.vue?vue&type=style&index=0&id=4dd4e7e2&lang=less&scoped=true&\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CodemirrorEditor.vue?vue&type=style&index=1&id=7acf9643&lang=less&scoped=true&\"","export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--1-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=less&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./rightClickMenu.vue?vue&type=style&index=0&id=a704a2f8&lang=less&scoped=true&\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CodemirrorEditor.vue?vue&type=style&index=0&id=7acf9643&lang=less&scoped=true&\"","export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--1-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=1&lang=less&\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CodemirrorEditor.vue?vue&type=style&index=2&id=7acf9643&lang=less&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _vm._m(0)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"loading\",attrs:{\"id\":\"loading\"}},[_c('div',{staticClass:\"loading-wrapper\"},[_c('div',{staticClass:\"loading-anim\"}),_c('div',{staticClass:\"loading-text\"},[_vm._v(\"致力于让 Markdown 编辑更简单\")])])])}]\n\nexport { render, staticRenderFns }","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./header.vue?vue&type=style&index=0&id=1d12595a&lang=less&scoped=true&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./aboutDialog.vue?vue&type=style&index=0&id=70c50907&lang=less&scoped=true&\"","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Loading.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Loading.vue?vue&type=script&lang=js&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./uploadImgDialog.vue?vue&type=style&index=0&id=fc5ed8b0&lang=less&scoped=true&\""],"sourceRoot":""}